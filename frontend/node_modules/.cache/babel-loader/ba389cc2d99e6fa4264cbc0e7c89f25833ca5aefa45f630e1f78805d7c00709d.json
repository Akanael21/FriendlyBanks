{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\FriendlyBanks\\\\frontend\\\\src\\\\components\\\\Governance.tsx\",\n  _s = $RefreshSig$();\n// src/components/Governance.tsx - VERSION AVEC PERMISSIONS CHARTE\n\nimport React, { useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faCalendarAlt, faBook, faLandmark, faGavel, faHandshake, faUsers, faVoteYea } from '@fortawesome/free-solid-svg-icons';\n\n// --- INTERFACES & DONNÉES ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Règles selon la charte avec permissions requises\nconst governanceRules = [{\n  category: \"Cotisations & Fonds\",\n  icon: faLandmark,\n  requiredPermission: \"view_governance\",\n  rules: [{\n    title: \"Montant Minimal (Article 3.1)\",\n    content: \"La contribution mensuelle minimale est de 4 000 XAF, à déposer entre le 24 et le 25 du mois.\"\n  }, {\n    title: \"Gestion du Fonds (Article 3.2-3.3)\",\n    content: \"Les cotisations sont versées sur un compte commun géré par le Trésorier et supervisé par le Comité de Gestion (3-6 membres).\"\n  }, {\n    title: \"Rapports Mensuels (Article 3.4)\",\n    content: \"Un rapport financier détaillé est présenté mensuellement à l'ensemble des membres.\"\n  }]\n}, {\n  category: \"Système de Points Berry\",\n  icon: faBook,\n  requiredPermission: \"view_berry_calculations\",\n  rules: [{\n    title: \"Attribution de base\",\n    content: \"Chaque contribution assidue ajoute 5 points. Un retard entraîne une pénalité de 15 points.\"\n  }, {\n    title: \"Bonus Contributions\",\n    content: \"Des bonus sont accordés : >6800 XAF (+5pts), >20% du fonds (+10pts), >50000 XAF (+20pts).\"\n  }, {\n    title: \"Pénalités (Article 6.5)\",\n    content: \"Une absence de contribution pendant un mois entraîne une perte de 50% des points Berry acquis.\"\n  }, {\n    title: \"Échelle de Prêt\",\n    content: \"10-100pts = 60k XAF, 100-199pts = 120k XAF, 200-499pts = 300k XAF, 500+pts = selon fonds disponibles.\"\n  }]\n}, {\n  category: \"Prêts aux Membres\",\n  icon: faHandshake,\n  requiredPermission: \"view_loans\",\n  rules: [{\n    title: \"Conditions d'Accès (Article 4.1)\",\n    content: \"L'accès au fonds est réservé aux urgences avérées (maladie, accident, etc.).\"\n  }, {\n    title: \"Procédure (Article 4.2-4.3)\",\n    content: \"Toute demande doit être formulée par écrit et examinée par le Comité de Gestion.\"\n  }, {\n    title: \"Garanties (Article 4.7)\",\n    content: \"Chaque prêt individuel doit être soutenu par au moins deux avaliseurs membres du groupe.\"\n  }, {\n    title: \"Gros Prêts (Article 4.5)\",\n    content: \"L'approbation d'un retrait de plus de 35% du fonds doit être validée par l'ensemble des membres.\"\n  }, {\n    title: \"Taux d'Intérêt (Article 8.1)\",\n    content: \"10% (0-39999 XAF), 8% (40k-99999 XAF), 6% (100k+ XAF). Remboursement minimum 10% du capital/mois.\"\n  }]\n}, {\n  category: \"Sanctions & Exclusions\",\n  icon: faGavel,\n  requiredPermission: \"view_sanctions\",\n  rules: [{\n    title: \"Retard de Cotisation (Article 6.3)\",\n    content: \"Sanctionné par une amende de 200 XAF par jour de retard.\"\n  }, {\n    title: \"Processus Décisionnel (Article 6.2)\",\n    content: \"Toutes les décisions disciplinaires sont prises par un vote majoritaire des membres.\"\n  }, {\n    title: \"Non-Remboursement (Article 6.4)\",\n    content: \"En cas de défaut, saisie des fonds du membre puis de ses avaliseurs.\"\n  }]\n}, {\n  category: \"Réunions & Gouvernance\",\n  icon: faUsers,\n  requiredPermission: \"view_governance\",\n  rules: [{\n    title: \"Comité Exécutif (Article 5.4)\",\n    content: \"Le Président et le Censeur peuvent organiser des sessions extraordinaires.\"\n  }, {\n    title: \"Réunions Obligatoires (Article 5.5-5.6)\",\n    content: \"Deux sessions mensuelles obligatoires : ouverture et clôture du mois.\"\n  }, {\n    title: \"Modifications Charte (Article 7.2)\",\n    content: \"Toute modification de la charte doit être validée à l'unanimité.\"\n  }]\n}];\nconst mockMeetings = [{\n  id: 'M01',\n  title: \"Réunion de Clôture - Juin 2025\",\n  date: \"2025-06-30\",\n  time: \"20:00\",\n  status: 'Passée',\n  type: 'Clôture',\n  attendees: 9,\n  decisions: [\"Validation budget juillet\", \"Approbation 2 prêts\"]\n}, {\n  id: 'M02',\n  title: \"Réunion d'Ouverture - Juillet 2025\",\n  date: \"2025-07-02\",\n  time: \"20:00\",\n  status: 'Passée',\n  type: 'Ouverture',\n  attendees: 8,\n  decisions: [\"Planning réunions mois\", \"Nouveaux objectifs\"]\n}, {\n  id: 'M03',\n  title: \"Session Extraordinaire - Modification Règle\",\n  date: \"2025-07-20\",\n  time: \"19:00\",\n  status: 'En cours',\n  type: 'Extraordinaire',\n  attendees: 10\n}, {\n  id: 'M04',\n  title: \"Réunion de Clôture - Juillet 2025\",\n  date: \"2025-07-31\",\n  time: \"20:00\",\n  status: 'À venir',\n  type: 'Clôture'\n}];\nconst mockVotes = [{\n  id: 'V001',\n  title: \"Modification seuil bonus Berry\",\n  description: \"Proposition d'abaisser le seuil du bonus de 6800 XAF à 6000 XAF\",\n  type: 'Modification Charte',\n  status: 'En cours',\n  votesFor: 7,\n  votesAgainst: 2,\n  totalVoters: 10,\n  requiredMajority: 'Unanimité',\n  endDate: '2025-07-25'\n}, {\n  id: 'V002',\n  title: \"Prêt exceptionnel Diana Prince\",\n  description: \"Prêt de 45% du fonds pour urgence médicale familiale\",\n  type: 'Prêt Important',\n  status: 'En cours',\n  votesFor: 8,\n  votesAgainst: 1,\n  totalVoters: 10,\n  requiredMajority: 'Simple',\n  endDate: '2025-07-22'\n}];\n\n// --- COMPOSANT PRINCIPAL ---\nconst Governance = () => {\n  _s();\n  const {\n    user,\n    hasPermission,\n    getRoleDisplayName\n  } = useAuth();\n  const navigate = useNavigate();\n  const [meetings, setMeetings] = useState(mockMeetings);\n  const [votes, setVotes] = useState(mockVotes);\n  const [votedItems, setVotedItems] = useState([]);\n\n  // --- VÉRIFICATION DES PERMISSIONS ---\n  if (!hasPermission('view_governance')) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.page,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.errorContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Acc\\xE8s refus\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Vous n'avez pas la permission de consulter la gouvernance.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Votre r\\xF4le actuel : \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: user !== null && user !== void 0 && user.role ? getRoleDisplayName(user.role) : 'Non défini'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --- GESTIONNAIRES D'ÉVÉNEMENTS ---\n  const handleVote = (voteId, choice) => {\n    if (!hasPermission('participate_in_votes')) {\n      alert(\"Vous n'avez pas la permission de voter.\");\n      return;\n    }\n    if (votedItems.includes(voteId)) {\n      alert(\"Vous avez déjà voté sur cette proposition.\");\n      return;\n    }\n    setVotes(votes.map(vote => vote.id === voteId ? {\n      ...vote,\n      votesFor: choice === 'for' ? vote.votesFor + 1 : vote.votesFor,\n      votesAgainst: choice === 'against' ? vote.votesAgainst + 1 : vote.votesAgainst\n    } : vote));\n    setVotedItems([...votedItems, voteId]);\n  };\n  const handleScheduleMeeting = () => {\n    if (!hasPermission('organize_sessions') && !hasPermission('manage_governance')) {\n      alert(\"Vous n'avez pas la permission d'organiser des réunions.\");\n      return;\n    }\n\n    // Ici, logique pour planifier une réunion\n    alert(\"Fonctionnalité de planification de réunion à implémenter\");\n  };\n\n  // --- FILTRAGE DES RÈGLES SELON LES PERMISSIONS ---\n  const visibleRules = governanceRules.filter(category => hasPermission(category.requiredPermission));\n\n  // --- PERMISSIONS D'AFFICHAGE ---\n  const canViewMeetings = hasPermission('view_governance') || hasPermission('organize_sessions');\n  const canOrganizeMeetings = hasPermission('organize_sessions') || hasPermission('manage_governance');\n  const canParticipateInVotes = hasPermission('participate_in_votes') || hasPermission('manage_governance');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.headerTitle,\n        children: \"Gouvernance & R\\xE9unions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        style: {\n          ...styles.button,\n          backgroundColor: '#6b7280'\n        },\n        children: \"\\u2190 Retour\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), visibleRules.length > 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: styles.sectionTitle,\n        children: \"R\\xE8gles de la Charte (Version 5)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.rulesGrid,\n        children: visibleRules.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.card,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: styles.cardTitle,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: category.icon,\n              style: {\n                marginRight: '10px',\n                color: '#3b82f6'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this), category.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: styles.rulesList,\n            children: category.rules.map(rule => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [rule.title, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 23\n              }, this), \" \", rule.content]\n            }, rule.title, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 17\n          }, this)]\n        }, category.category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }, this), canParticipateInVotes && votes.filter(v => v.status === 'En cours').length > 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: styles.sectionTitle,\n        children: \"Votes en Cours\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.votesContainer,\n        children: votes.filter(v => v.status === 'En cours').map(vote => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.voteCard,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.voteHeader,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: styles.voteTitle,\n              children: vote.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TypeChip, {\n              type: vote.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.voteDescription,\n            children: vote.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.voteStats,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Pour: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#22c55e'\n                },\n                children: vote.votesFor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Contre: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                style: {\n                  color: '#ef4444'\n                },\n                children: vote.votesAgainst\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Total: \", vote.totalVoters, \" votants\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Requis: \", vote.requiredMajority]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.voteActions,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '12px',\n                color: '#6b7280'\n              },\n              children: [\"Fin: \", new Date(vote.endDate).toLocaleDateString('fr-FR')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this), !votedItems.includes(vote.id) ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.voteButtons,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleVote(vote.id, 'for'),\n                style: {\n                  ...styles.button,\n                  backgroundColor: '#22c55e',\n                  fontSize: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faVoteYea,\n                  style: {\n                    marginRight: '4px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 25\n                }, this), \"Pour\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleVote(vote.id, 'against'),\n                style: {\n                  ...styles.button,\n                  backgroundColor: '#ef4444',\n                  fontSize: '12px'\n                },\n                children: \"Contre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#22c55e',\n                fontSize: '12px',\n                fontWeight: 'bold'\n              },\n              children: \"\\u2713 Vot\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)]\n        }, vote.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 9\n    }, this), canViewMeetings && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...styles.header,\n          marginTop: '40px',\n          marginBottom: '24px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.sectionTitle,\n          children: \"Calendrier des R\\xE9unions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), canOrganizeMeetings && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleScheduleMeeting,\n          style: styles.button,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faPlus,\n            style: {\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 17\n          }, this), \"Planifier une R\\xE9union\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.meetingsList,\n        children: meetings.map(meeting => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...styles.card,\n            ...styles.meetingCard\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.meetingInfo,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.meetingHeader,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: styles.meetingTitle,\n                children: meeting.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.meetingBadges,\n                children: [/*#__PURE__*/_jsxDEV(MeetingTypeChip, {\n                  type: meeting.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(StatusChip, {\n                  status: meeting.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.meetingDate,\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faCalendarAlt,\n                style: {\n                  marginRight: '8px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 21\n              }, this), new Date(meeting.date).toLocaleDateString('fr-FR', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              }), \" \\xE0 \", meeting.time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 19\n            }, this), meeting.attendees && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.meetingAttendees,\n              children: [\"\\uD83D\\uDC65 \", meeting.attendees, \" participants\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 21\n            }, this), meeting.decisions && meeting.decisions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.meetingDecisions,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"D\\xE9cisions prises :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                style: styles.decisionsList,\n                children: meeting.decisions.map((decision, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: decision\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)\n        }, meeting.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.permissionInfo,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Vos permissions actuelles :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.permissionsList,\n        children: [hasPermission('view_governance') && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.permissionBadge,\n          children: \"\\uD83D\\uDCCB Consulter gouvernance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 48\n        }, this), hasPermission('participate_in_votes') && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.permissionBadge,\n          children: \"\\uD83D\\uDDF3\\uFE0F Participer aux votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 53\n        }, this), hasPermission('organize_sessions') && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.permissionBadge,\n          children: \"\\uD83D\\uDCC5 Organiser r\\xE9unions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 50\n        }, this), hasPermission('manage_governance') && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.permissionBadge,\n          children: \"\\u2696\\uFE0F G\\xE9rer gouvernance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 50\n        }, this), hasPermission('modify_charter') && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.permissionBadge,\n          children: \"\\uD83D\\uDCDC Modifier charte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n\n// --- SOUS-COMPOSANTS ---\n_s(Governance, \"fkERTznmSSuLCmMjUB+uVBwSFqw=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Governance;\nconst StatusChip = ({\n  status\n}) => {\n  const sC = {\n    'À venir': {\n      backgroundColor: '#dcfce7',\n      color: '#166534'\n    },\n    'En cours': {\n      backgroundColor: '#fef3c7',\n      color: '#92400e'\n    },\n    'Passée': {\n      backgroundColor: '#e5e7eb',\n      color: '#4b5563'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      ...styles.chip,\n      ...sC[status]\n    },\n    children: status\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 446,\n    columnNumber: 10\n  }, this);\n};\n_c2 = StatusChip;\nconst MeetingTypeChip = ({\n  type\n}) => {\n  const tC = {\n    'Ouverture': {\n      backgroundColor: '#dbeafe',\n      color: '#1e40af'\n    },\n    'Clôture': {\n      backgroundColor: '#fecaca',\n      color: '#991b1b'\n    },\n    'Extraordinaire': {\n      backgroundColor: '#f3e8ff',\n      color: '#7c2d12'\n    },\n    'Comité': {\n      backgroundColor: '#d1fae5',\n      color: '#065f46'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      ...styles.chip,\n      ...tC[type]\n    },\n    children: type\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 456,\n    columnNumber: 10\n  }, this);\n};\n_c3 = MeetingTypeChip;\nconst TypeChip = ({\n  type\n}) => {\n  const tC = {\n    'Modification Charte': {\n      backgroundColor: '#fef3c7',\n      color: '#92400e'\n    },\n    'Sanction': {\n      backgroundColor: '#fee2e2',\n      color: '#991b1b'\n    },\n    'Prêt Important': {\n      backgroundColor: '#dbeafe',\n      color: '#1e40af'\n    },\n    'Règle': {\n      backgroundColor: '#e0e7ff',\n      color: '#3730a3'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      ...styles.chip,\n      ...tC[type]\n    },\n    children: type\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 466,\n    columnNumber: 10\n  }, this);\n};\n\n// --- STYLES ---\n_c4 = TypeChip;\nconst styles = {\n  page: {\n    fontFamily: 'Arial, sans-serif',\n    padding: '16px',\n    backgroundColor: '#f3f4f6',\n    minHeight: '100vh'\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '24px',\n    flexWrap: 'wrap',\n    gap: '16px'\n  },\n  headerTitle: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#1f2937',\n    margin: 0\n  },\n  sectionTitle: {\n    fontSize: '22px',\n    fontWeight: 'bold',\n    color: '#1f2937',\n    margin: 0\n  },\n  errorContainer: {\n    textAlign: 'center',\n    padding: '40px',\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'\n  },\n  button: {\n    padding: '10px 16px',\n    backgroundColor: '#2563eb',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: '600',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '14px'\n  },\n  rulesGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n    gap: '24px',\n    marginTop: '24px',\n    marginBottom: '40px'\n  },\n  card: {\n    backgroundColor: 'white',\n    padding: '24px',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'\n  },\n  cardTitle: {\n    fontSize: '18px',\n    fontWeight: 'bold',\n    margin: '0 0 16px 0',\n    color: '#1f2937',\n    borderBottom: '1px solid #e5e7eb',\n    paddingBottom: '12px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  rulesList: {\n    margin: 0,\n    paddingLeft: '20px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '12px',\n    fontSize: '14px',\n    color: '#374151',\n    lineHeight: 1.6\n  },\n  votesContainer: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n    gap: '16px',\n    marginTop: '16px',\n    marginBottom: '40px'\n  },\n  voteCard: {\n    backgroundColor: 'white',\n    padding: '20px',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n    borderLeft: '4px solid #3b82f6'\n  },\n  voteHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: '12px'\n  },\n  voteTitle: {\n    fontSize: '16px',\n    fontWeight: 'bold',\n    margin: 0,\n    color: '#1f2937'\n  },\n  voteDescription: {\n    fontSize: '14px',\n    color: '#4b5563',\n    marginBottom: '16px'\n  },\n  voteStats: {\n    display: 'flex',\n    gap: '16px',\n    fontSize: '12px',\n    marginBottom: '16px',\n    flexWrap: 'wrap'\n  },\n  voteActions: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  voteButtons: {\n    display: 'flex',\n    gap: '8px'\n  },\n  meetingsList: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '16px',\n    marginBottom: '40px'\n  },\n  meetingCard: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    flexWrap: 'wrap',\n    gap: '16px'\n  },\n  meetingInfo: {\n    flex: 1\n  },\n  meetingHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: '8px'\n  },\n  meetingBadges: {\n    display: 'flex',\n    gap: '8px',\n    flexWrap: 'wrap'\n  },\n  meetingTitle: {\n    fontWeight: 'bold',\n    margin: 0,\n    color: '#1f2937',\n    fontSize: '16px'\n  },\n  meetingDate: {\n    fontSize: '14px',\n    margin: '4px 0',\n    color: '#4b5563'\n  },\n  meetingAttendees: {\n    fontSize: '12px',\n    margin: '4px 0',\n    color: '#6b7280'\n  },\n  meetingDecisions: {\n    marginTop: '12px',\n    fontSize: '12px',\n    color: '#374151'\n  },\n  decisionsList: {\n    marginTop: '4px',\n    paddingLeft: '16px'\n  },\n  permissionInfo: {\n    backgroundColor: '#f0f9ff',\n    padding: '16px',\n    borderRadius: '8px',\n    marginTop: '24px'\n  },\n  permissionsList: {\n    display: 'flex',\n    gap: '8px',\n    flexWrap: 'wrap',\n    marginTop: '8px'\n  },\n  permissionBadge: {\n    backgroundColor: '#e0f2fe',\n    padding: '4px 8px',\n    borderRadius: '12px',\n    fontSize: '12px',\n    fontWeight: '500'\n  },\n  chip: {\n    padding: '4px 12px',\n    borderRadius: '9999px',\n    fontWeight: '600',\n    fontSize: '12px',\n    flexShrink: 0\n  }\n};\nexport default Governance;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Governance\");\n$RefreshReg$(_c2, \"StatusChip\");\n$RefreshReg$(_c3, \"MeetingTypeChip\");\n$RefreshReg$(_c4, \"TypeChip\");","map":{"version":3,"names":["React","useState","useAuth","useNavigate","FontAwesomeIcon","faPlus","faCalendarAlt","faBook","faLandmark","faGavel","faHandshake","faUsers","faVoteYea","jsxDEV","_jsxDEV","governanceRules","category","icon","requiredPermission","rules","title","content","mockMeetings","id","date","time","status","type","attendees","decisions","mockVotes","description","votesFor","votesAgainst","totalVoters","requiredMajority","endDate","Governance","_s","user","hasPermission","getRoleDisplayName","navigate","meetings","setMeetings","votes","setVotes","votedItems","setVotedItems","style","styles","page","children","errorContainer","fileName","_jsxFileName","lineNumber","columnNumber","role","handleVote","voteId","choice","alert","includes","map","vote","handleScheduleMeeting","visibleRules","filter","canViewMeetings","canOrganizeMeetings","canParticipateInVotes","header","headerTitle","onClick","button","backgroundColor","length","sectionTitle","rulesGrid","card","cardTitle","marginRight","color","rulesList","rule","v","votesContainer","voteCard","voteHeader","voteTitle","TypeChip","voteDescription","voteStats","voteActions","fontSize","Date","toLocaleDateString","voteButtons","fontWeight","marginTop","marginBottom","meetingsList","meeting","meetingCard","meetingInfo","meetingHeader","meetingTitle","meetingBadges","MeetingTypeChip","StatusChip","meetingDate","weekday","year","month","day","meetingAttendees","meetingDecisions","decisionsList","decision","index","permissionInfo","permissionsList","permissionBadge","_c","sC","chip","_c2","tC","_c3","_c4","fontFamily","padding","minHeight","display","justifyContent","alignItems","flexWrap","gap","margin","textAlign","borderRadius","boxShadow","border","cursor","gridTemplateColumns","borderBottom","paddingBottom","paddingLeft","flexDirection","lineHeight","borderLeft","flex","flexShrink","$RefreshReg$"],"sources":["D:/Projects/FriendlyBanks/frontend/src/components/Governance.tsx"],"sourcesContent":["// src/components/Governance.tsx - VERSION AVEC PERMISSIONS CHARTE\r\n\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faCalendarAlt, faBook, faLandmark, faGavel, faHandshake, faUsers, faVoteYea } from '@fortawesome/free-solid-svg-icons';\r\n\r\n// --- INTERFACES & DONNÉES ---\r\ninterface Rule { \r\n  title: string; \r\n  content: string; \r\n}\r\n\r\ninterface RuleCategory { \r\n  category: string; \r\n  icon: any; \r\n  rules: Rule[]; \r\n  requiredPermission: string;\r\n}\r\n\r\ninterface Meeting { \r\n  id: string; \r\n  title: string; \r\n  date: string; \r\n  time: string; \r\n  status: 'À venir' | 'Passée' | 'En cours'; \r\n  type: 'Ouverture' | 'Clôture' | 'Extraordinaire' | 'Comité';\r\n  attendees?: number;\r\n  decisions?: string[];\r\n}\r\n\r\ninterface Vote {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  type: 'Modification Charte' | 'Sanction' | 'Prêt Important' | 'Règle';\r\n  status: 'En cours' | 'Approuvé' | 'Rejeté';\r\n  votesFor: number;\r\n  votesAgainst: number;\r\n  totalVoters: number;\r\n  requiredMajority: 'Simple' | 'Qualifiée' | 'Unanimité';\r\n  endDate: string;\r\n}\r\n\r\n// Règles selon la charte avec permissions requises\r\nconst governanceRules: RuleCategory[] = [\r\n  {\r\n    category: \"Cotisations & Fonds\",\r\n    icon: faLandmark,\r\n    requiredPermission: \"view_governance\",\r\n    rules: [\r\n      { \r\n        title: \"Montant Minimal (Article 3.1)\", \r\n        content: \"La contribution mensuelle minimale est de 4 000 XAF, à déposer entre le 24 et le 25 du mois.\" \r\n      },\r\n      { \r\n        title: \"Gestion du Fonds (Article 3.2-3.3)\", \r\n        content: \"Les cotisations sont versées sur un compte commun géré par le Trésorier et supervisé par le Comité de Gestion (3-6 membres).\" \r\n      },\r\n      { \r\n        title: \"Rapports Mensuels (Article 3.4)\", \r\n        content: \"Un rapport financier détaillé est présenté mensuellement à l'ensemble des membres.\" \r\n      },\r\n    ]\r\n  },\r\n  {\r\n    category: \"Système de Points Berry\",\r\n    icon: faBook,\r\n    requiredPermission: \"view_berry_calculations\",\r\n    rules: [\r\n      { \r\n        title: \"Attribution de base\", \r\n        content: \"Chaque contribution assidue ajoute 5 points. Un retard entraîne une pénalité de 15 points.\" \r\n      },\r\n      { \r\n        title: \"Bonus Contributions\", \r\n        content: \"Des bonus sont accordés : >6800 XAF (+5pts), >20% du fonds (+10pts), >50000 XAF (+20pts).\" \r\n      },\r\n      { \r\n        title: \"Pénalités (Article 6.5)\", \r\n        content: \"Une absence de contribution pendant un mois entraîne une perte de 50% des points Berry acquis.\" \r\n      },\r\n      { \r\n        title: \"Échelle de Prêt\", \r\n        content: \"10-100pts = 60k XAF, 100-199pts = 120k XAF, 200-499pts = 300k XAF, 500+pts = selon fonds disponibles.\" \r\n      },\r\n    ]\r\n  },\r\n  {\r\n    category: \"Prêts aux Membres\",\r\n    icon: faHandshake,\r\n    requiredPermission: \"view_loans\",\r\n    rules: [\r\n      { \r\n        title: \"Conditions d'Accès (Article 4.1)\", \r\n        content: \"L'accès au fonds est réservé aux urgences avérées (maladie, accident, etc.).\" \r\n      },\r\n      { \r\n        title: \"Procédure (Article 4.2-4.3)\", \r\n        content: \"Toute demande doit être formulée par écrit et examinée par le Comité de Gestion.\" \r\n      },\r\n      { \r\n        title: \"Garanties (Article 4.7)\", \r\n        content: \"Chaque prêt individuel doit être soutenu par au moins deux avaliseurs membres du groupe.\" \r\n      },\r\n      { \r\n        title: \"Gros Prêts (Article 4.5)\", \r\n        content: \"L'approbation d'un retrait de plus de 35% du fonds doit être validée par l'ensemble des membres.\" \r\n      },\r\n      { \r\n        title: \"Taux d'Intérêt (Article 8.1)\", \r\n        content: \"10% (0-39999 XAF), 8% (40k-99999 XAF), 6% (100k+ XAF). Remboursement minimum 10% du capital/mois.\" \r\n      },\r\n    ]\r\n  },\r\n  {\r\n    category: \"Sanctions & Exclusions\",\r\n    icon: faGavel,\r\n    requiredPermission: \"view_sanctions\",\r\n    rules: [\r\n      { \r\n        title: \"Retard de Cotisation (Article 6.3)\", \r\n        content: \"Sanctionné par une amende de 200 XAF par jour de retard.\" \r\n      },\r\n      { \r\n        title: \"Processus Décisionnel (Article 6.2)\", \r\n        content: \"Toutes les décisions disciplinaires sont prises par un vote majoritaire des membres.\" \r\n      },\r\n      { \r\n        title: \"Non-Remboursement (Article 6.4)\", \r\n        content: \"En cas de défaut, saisie des fonds du membre puis de ses avaliseurs.\" \r\n      },\r\n    ]\r\n  },\r\n  {\r\n    category: \"Réunions & Gouvernance\",\r\n    icon: faUsers,\r\n    requiredPermission: \"view_governance\",\r\n    rules: [\r\n      { \r\n        title: \"Comité Exécutif (Article 5.4)\", \r\n        content: \"Le Président et le Censeur peuvent organiser des sessions extraordinaires.\" \r\n      },\r\n      { \r\n        title: \"Réunions Obligatoires (Article 5.5-5.6)\", \r\n        content: \"Deux sessions mensuelles obligatoires : ouverture et clôture du mois.\" \r\n      },\r\n      { \r\n        title: \"Modifications Charte (Article 7.2)\", \r\n        content: \"Toute modification de la charte doit être validée à l'unanimité.\" \r\n      },\r\n    ]\r\n  },\r\n];\r\n\r\nconst mockMeetings: Meeting[] = [\r\n  { \r\n    id: 'M01', \r\n    title: \"Réunion de Clôture - Juin 2025\", \r\n    date: \"2025-06-30\", \r\n    time: \"20:00\", \r\n    status: 'Passée',\r\n    type: 'Clôture',\r\n    attendees: 9,\r\n    decisions: [\"Validation budget juillet\", \"Approbation 2 prêts\"]\r\n  },\r\n  { \r\n    id: 'M02', \r\n    title: \"Réunion d'Ouverture - Juillet 2025\", \r\n    date: \"2025-07-02\", \r\n    time: \"20:00\", \r\n    status: 'Passée',\r\n    type: 'Ouverture',\r\n    attendees: 8,\r\n    decisions: [\"Planning réunions mois\", \"Nouveaux objectifs\"]\r\n  },\r\n  { \r\n    id: 'M03', \r\n    title: \"Session Extraordinaire - Modification Règle\", \r\n    date: \"2025-07-20\", \r\n    time: \"19:00\", \r\n    status: 'En cours',\r\n    type: 'Extraordinaire',\r\n    attendees: 10\r\n  },\r\n  { \r\n    id: 'M04', \r\n    title: \"Réunion de Clôture - Juillet 2025\", \r\n    date: \"2025-07-31\", \r\n    time: \"20:00\", \r\n    status: 'À venir',\r\n    type: 'Clôture'\r\n  },\r\n];\r\n\r\nconst mockVotes: Vote[] = [\r\n  {\r\n    id: 'V001',\r\n    title: \"Modification seuil bonus Berry\",\r\n    description: \"Proposition d'abaisser le seuil du bonus de 6800 XAF à 6000 XAF\",\r\n    type: 'Modification Charte',\r\n    status: 'En cours',\r\n    votesFor: 7,\r\n    votesAgainst: 2,\r\n    totalVoters: 10,\r\n    requiredMajority: 'Unanimité',\r\n    endDate: '2025-07-25'\r\n  },\r\n  {\r\n    id: 'V002',\r\n    title: \"Prêt exceptionnel Diana Prince\",\r\n    description: \"Prêt de 45% du fonds pour urgence médicale familiale\",\r\n    type: 'Prêt Important',\r\n    status: 'En cours',\r\n    votesFor: 8,\r\n    votesAgainst: 1,\r\n    totalVoters: 10,\r\n    requiredMajority: 'Simple',\r\n    endDate: '2025-07-22'\r\n  },\r\n];\r\n\r\n// --- COMPOSANT PRINCIPAL ---\r\nconst Governance: React.FC = () => {\r\n  const { user, hasPermission, getRoleDisplayName } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [meetings, setMeetings] = useState<Meeting[]>(mockMeetings);\r\n  const [votes, setVotes] = useState<Vote[]>(mockVotes);\r\n  const [votedItems, setVotedItems] = useState<string[]>([]);\r\n\r\n  // --- VÉRIFICATION DES PERMISSIONS ---\r\n  if (!hasPermission('view_governance')) {\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.errorContainer}>\r\n          <h3>Accès refusé</h3>\r\n          <p>Vous n'avez pas la permission de consulter la gouvernance.</p>\r\n          <p>Votre rôle actuel : <strong>{user?.role ? getRoleDisplayName(user.role as any) : 'Non défini'}</strong></p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- GESTIONNAIRES D'ÉVÉNEMENTS ---\r\n  const handleVote = (voteId: string, choice: 'for' | 'against') => {\r\n    if (!hasPermission('participate_in_votes')) {\r\n      alert(\"Vous n'avez pas la permission de voter.\");\r\n      return;\r\n    }\r\n\r\n    if (votedItems.includes(voteId)) {\r\n      alert(\"Vous avez déjà voté sur cette proposition.\");\r\n      return;\r\n    }\r\n\r\n    setVotes(votes.map(vote => \r\n      vote.id === voteId ? {\r\n        ...vote,\r\n        votesFor: choice === 'for' ? vote.votesFor + 1 : vote.votesFor,\r\n        votesAgainst: choice === 'against' ? vote.votesAgainst + 1 : vote.votesAgainst\r\n      } : vote\r\n    ));\r\n\r\n    setVotedItems([...votedItems, voteId]);\r\n  };\r\n\r\n  const handleScheduleMeeting = () => {\r\n    if (!hasPermission('organize_sessions') && !hasPermission('manage_governance')) {\r\n      alert(\"Vous n'avez pas la permission d'organiser des réunions.\");\r\n      return;\r\n    }\r\n    \r\n    // Ici, logique pour planifier une réunion\r\n    alert(\"Fonctionnalité de planification de réunion à implémenter\");\r\n  };\r\n\r\n  // --- FILTRAGE DES RÈGLES SELON LES PERMISSIONS ---\r\n  const visibleRules = governanceRules.filter(category => \r\n    hasPermission(category.requiredPermission)\r\n  );\r\n\r\n  // --- PERMISSIONS D'AFFICHAGE ---\r\n  const canViewMeetings = hasPermission('view_governance') || hasPermission('organize_sessions');\r\n  const canOrganizeMeetings = hasPermission('organize_sessions') || hasPermission('manage_governance');\r\n  const canParticipateInVotes = hasPermission('participate_in_votes') || hasPermission('manage_governance');\r\n\r\n  return (\r\n    <div style={styles.page}>\r\n      <header style={styles.header}>\r\n        <h2 style={styles.headerTitle}>Gouvernance & Réunions</h2>\r\n        <button onClick={() => navigate('/')} style={{...styles.button, backgroundColor: '#6b7280'}}>\r\n          ← Retour\r\n        </button>\r\n      </header>\r\n\r\n      {/* Section des règles de la charte */}\r\n      {visibleRules.length > 0 && (\r\n        <section>\r\n          <h3 style={styles.sectionTitle}>Règles de la Charte (Version 5)</h3>\r\n          <div style={styles.rulesGrid}>\r\n            {visibleRules.map(category => (\r\n              <div key={category.category} style={styles.card}>\r\n                <h4 style={styles.cardTitle}>\r\n                  <FontAwesomeIcon icon={category.icon} style={{marginRight: '10px', color: '#3b82f6'}}/>\r\n                  {category.category}\r\n                </h4>\r\n                <ul style={styles.rulesList}>\r\n                  {category.rules.map(rule => (\r\n                    <li key={rule.title}>\r\n                      <strong>{rule.title}:</strong> {rule.content}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Section des votes en cours */}\r\n      {canParticipateInVotes && votes.filter(v => v.status === 'En cours').length > 0 && (\r\n        <section>\r\n          <h3 style={styles.sectionTitle}>Votes en Cours</h3>\r\n          <div style={styles.votesContainer}>\r\n            {votes.filter(v => v.status === 'En cours').map(vote => (\r\n              <div key={vote.id} style={styles.voteCard}>\r\n                <div style={styles.voteHeader}>\r\n                  <h4 style={styles.voteTitle}>{vote.title}</h4>\r\n                  <TypeChip type={vote.type} />\r\n                </div>\r\n                <p style={styles.voteDescription}>{vote.description}</p>\r\n                <div style={styles.voteStats}>\r\n                  <span>Pour: <strong style={{color: '#22c55e'}}>{vote.votesFor}</strong></span>\r\n                  <span>Contre: <strong style={{color: '#ef4444'}}>{vote.votesAgainst}</strong></span>\r\n                  <span>Total: {vote.totalVoters} votants</span>\r\n                  <span>Requis: {vote.requiredMajority}</span>\r\n                </div>\r\n                <div style={styles.voteActions}>\r\n                  <span style={{fontSize: '12px', color: '#6b7280'}}>\r\n                    Fin: {new Date(vote.endDate).toLocaleDateString('fr-FR')}\r\n                  </span>\r\n                  {!votedItems.includes(vote.id) ? (\r\n                    <div style={styles.voteButtons}>\r\n                      <button \r\n                        onClick={() => handleVote(vote.id, 'for')}\r\n                        style={{...styles.button, backgroundColor: '#22c55e', fontSize: '12px'}}\r\n                      >\r\n                        <FontAwesomeIcon icon={faVoteYea} style={{marginRight: '4px'}} />\r\n                        Pour\r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleVote(vote.id, 'against')}\r\n                        style={{...styles.button, backgroundColor: '#ef4444', fontSize: '12px'}}\r\n                      >\r\n                        Contre\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <span style={{color: '#22c55e', fontSize: '12px', fontWeight: 'bold'}}>✓ Voté</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Section du calendrier des réunions */}\r\n      {canViewMeetings && (\r\n        <section>\r\n          <div style={{...styles.header, marginTop: '40px', marginBottom: '24px'}}>\r\n            <h3 style={styles.sectionTitle}>Calendrier des Réunions</h3>\r\n            {canOrganizeMeetings && (\r\n              <button onClick={handleScheduleMeeting} style={styles.button}>\r\n                <FontAwesomeIcon icon={faPlus} style={{marginRight: '8px'}} /> \r\n                Planifier une Réunion\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div style={styles.meetingsList}>\r\n            {meetings.map(meeting => (\r\n              <div key={meeting.id} style={{...styles.card, ...styles.meetingCard}}>\r\n                <div style={styles.meetingInfo}>\r\n                  <div style={styles.meetingHeader}>\r\n                    <p style={styles.meetingTitle}>{meeting.title}</p>\r\n                    <div style={styles.meetingBadges}>\r\n                      <MeetingTypeChip type={meeting.type} />\r\n                      <StatusChip status={meeting.status} />\r\n                    </div>\r\n                  </div>\r\n                  <p style={styles.meetingDate}>\r\n                    <FontAwesomeIcon icon={faCalendarAlt} style={{marginRight: '8px'}}/>\r\n                    {new Date(meeting.date).toLocaleDateString('fr-FR', {\r\n                      weekday: 'long', \r\n                      year: 'numeric', \r\n                      month: 'long', \r\n                      day: 'numeric'\r\n                    })} à {meeting.time}\r\n                  </p>\r\n                  {meeting.attendees && (\r\n                    <p style={styles.meetingAttendees}>\r\n                      👥 {meeting.attendees} participants\r\n                    </p>\r\n                  )}\r\n                  {meeting.decisions && meeting.decisions.length > 0 && (\r\n                    <div style={styles.meetingDecisions}>\r\n                      <strong>Décisions prises :</strong>\r\n                      <ul style={styles.decisionsList}>\r\n                        {meeting.decisions.map((decision, index) => (\r\n                          <li key={index}>{decision}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Information sur les permissions */}\r\n      <div style={styles.permissionInfo}>\r\n        <h4>Vos permissions actuelles :</h4>\r\n        <div style={styles.permissionsList}>\r\n          {hasPermission('view_governance') && <span style={styles.permissionBadge}>📋 Consulter gouvernance</span>}\r\n          {hasPermission('participate_in_votes') && <span style={styles.permissionBadge}>🗳️ Participer aux votes</span>}\r\n          {hasPermission('organize_sessions') && <span style={styles.permissionBadge}>📅 Organiser réunions</span>}\r\n          {hasPermission('manage_governance') && <span style={styles.permissionBadge}>⚖️ Gérer gouvernance</span>}\r\n          {hasPermission('modify_charter') && <span style={styles.permissionBadge}>📜 Modifier charte</span>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- SOUS-COMPOSANTS ---\r\nconst StatusChip: React.FC<{ status: Meeting['status'] }> = ({ status }) => { \r\n  const sC = { \r\n    'À venir': { backgroundColor: '#dcfce7', color: '#166534' }, \r\n    'En cours': { backgroundColor: '#fef3c7', color: '#92400e' }, \r\n    'Passée': { backgroundColor: '#e5e7eb', color: '#4b5563' } \r\n  }; \r\n  return <span style={{ ...styles.chip, ...sC[status] }}>{status}</span>; \r\n};\r\n\r\nconst MeetingTypeChip: React.FC<{ type: Meeting['type'] }> = ({ type }) => { \r\n  const tC = { \r\n    'Ouverture': { backgroundColor: '#dbeafe', color: '#1e40af' }, \r\n    'Clôture': { backgroundColor: '#fecaca', color: '#991b1b' }, \r\n    'Extraordinaire': { backgroundColor: '#f3e8ff', color: '#7c2d12' }, \r\n    'Comité': { backgroundColor: '#d1fae5', color: '#065f46' } \r\n  }; \r\n  return <span style={{ ...styles.chip, ...tC[type] }}>{type}</span>; \r\n};\r\n\r\nconst TypeChip: React.FC<{ type: Vote['type'] }> = ({ type }) => { \r\n  const tC = { \r\n    'Modification Charte': { backgroundColor: '#fef3c7', color: '#92400e' }, \r\n    'Sanction': { backgroundColor: '#fee2e2', color: '#991b1b' }, \r\n    'Prêt Important': { backgroundColor: '#dbeafe', color: '#1e40af' }, \r\n    'Règle': { backgroundColor: '#e0e7ff', color: '#3730a3' } \r\n  }; \r\n  return <span style={{ ...styles.chip, ...tC[type] }}>{type}</span>; \r\n};\r\n\r\n// --- STYLES ---\r\nconst styles: { [key: string]: React.CSSProperties } = {\r\n  page: { fontFamily: 'Arial, sans-serif', padding: '16px', backgroundColor: '#f3f4f6', minHeight: '100vh' },\r\n  header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px', flexWrap: 'wrap', gap: '16px' },\r\n  headerTitle: { fontSize: '24px', fontWeight: 'bold', color: '#1f2937', margin: 0 },\r\n  sectionTitle: { fontSize: '22px', fontWeight: 'bold', color: '#1f2937', margin: 0 },\r\n  errorContainer: { textAlign: 'center', padding: '40px', backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)' },\r\n  button: { padding: '10px 16px', backgroundColor: '#2563eb', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '14px' },\r\n  rulesGrid: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))', gap: '24px', marginTop: '24px', marginBottom: '40px' },\r\n  card: { backgroundColor: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)' },\r\n  cardTitle: { fontSize: '18px', fontWeight: 'bold', margin: '0 0 16px 0', color: '#1f2937', borderBottom: '1px solid #e5e7eb', paddingBottom: '12px', display: 'flex', alignItems: 'center' },\r\n  rulesList: { margin: 0, paddingLeft: '20px', display: 'flex', flexDirection: 'column', gap: '12px', fontSize: '14px', color: '#374151', lineHeight: 1.6 },\r\n  votesContainer: { display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px', marginTop: '16px', marginBottom: '40px' },\r\n  voteCard: { backgroundColor: 'white', padding: '20px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)', borderLeft: '4px solid #3b82f6' },\r\n  voteHeader: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '12px' },\r\n  voteTitle: { fontSize: '16px', fontWeight: 'bold', margin: 0, color: '#1f2937' },\r\n  voteDescription: { fontSize: '14px', color: '#4b5563', marginBottom: '16px' },\r\n  voteStats: { display: 'flex', gap: '16px', fontSize: '12px', marginBottom: '16px', flexWrap: 'wrap' },\r\n  voteActions: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' },\r\n  voteButtons: { display: 'flex', gap: '8px' },\r\n  meetingsList: { display: 'flex', flexDirection: 'column', gap: '16px', marginBottom: '40px' },\r\n  meetingCard: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', flexWrap: 'wrap', gap: '16px' },\r\n  meetingInfo: { flex: 1 },\r\n  meetingHeader: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px' },\r\n  meetingBadges: { display: 'flex', gap: '8px', flexWrap: 'wrap' },\r\n  meetingTitle: { fontWeight: 'bold', margin: 0, color: '#1f2937', fontSize: '16px' },\r\n  meetingDate: { fontSize: '14px', margin: '4px 0', color: '#4b5563' },\r\n  meetingAttendees: { fontSize: '12px', margin: '4px 0', color: '#6b7280' },\r\n  meetingDecisions: { marginTop: '12px', fontSize: '12px', color: '#374151' },\r\n  decisionsList: { marginTop: '4px', paddingLeft: '16px' },\r\n  permissionInfo: { backgroundColor: '#f0f9ff', padding: '16px', borderRadius: '8px', marginTop: '24px' },\r\n  permissionsList: { display: 'flex', gap: '8px', flexWrap: 'wrap', marginTop: '8px' },\r\n  permissionBadge: { backgroundColor: '#e0f2fe', padding: '4px 8px', borderRadius: '12px', fontSize: '12px', fontWeight: '500' },\r\n  chip: { padding: '4px 12px', borderRadius: '9999px', fontWeight: '600', fontSize: '12px', flexShrink: 0 },\r\n};\r\n\r\nexport default Governance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}