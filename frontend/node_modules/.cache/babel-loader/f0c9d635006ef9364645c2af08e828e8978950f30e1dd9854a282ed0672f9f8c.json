{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\FriendlyBanks\\\\frontend\\\\src\\\\components\\\\Loans.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faCheck, faTimes, faMoneyBillWave, faHistory, faCalculator } from '@fortawesome/free-solid-svg-icons';\n\n// --- HOOK POUR LA RESPONSIVITÉ ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useWindowSize = () => {\n  _s();\n  const [size, setSize] = useState([window.innerWidth]);\n  useEffect(() => {\n    const handleResize = () => setSize([window.innerWidth]);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return {\n    width: size[0]\n  };\n};\n\n// --- INTERFACES ADAPTÉES À L'API DJANGO ---\n_s(useWindowSize, \"HyfN+3QzfEEIY6gSci7LphKkByY=\");\n// --- CONSTANTES ---\nconst MOBILE_BREAKPOINT = 768;\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://127.0.0.1:8000/api';\n\n// --- SERVICE DE LOGIQUE MÉTIER SELON LA CHARTE FRIENDLY BANKS ---\nconst LoanService = {\n  getMaxLoanAmount: berryPoints => {\n    if (berryPoints >= 10 && berryPoints <= 100) return 60000;\n    if (berryPoints > 100 && berryPoints <= 199) return 120000;\n    if (berryPoints >= 200 && berryPoints <= 499) return 300000;\n    if (berryPoints >= 500) return 500000;\n    return 0;\n  },\n  getInterestRate: amount => {\n    if (amount > 0 && amount < 40000) return 10;\n    if (amount >= 40000 && amount < 100000) return 8;\n    if (amount >= 100000) return 6;\n    return 0;\n  },\n  calculateTotalToRepay: (amount, interestRate) => {\n    return amount * (1 + interestRate / 100);\n  },\n  getStatusDisplayName: status => {\n    const statusMap = {\n      'pending': 'En attente',\n      'approved': 'Approuvé',\n      'rejected': 'Rejeté',\n      'repaid': 'Remboursé'\n    };\n    return statusMap[status] || status;\n  },\n  getPaymentTypeDisplayName: type => {\n    const typeMap = {\n      'partial': 'Remboursement partiel',\n      'interest_only': 'Intérêts uniquement',\n      'full': 'Remboursement complet'\n    };\n    return typeMap[type] || type;\n  }\n};\n\n// --- COMPOSANT PRINCIPAL ---\nconst Loans = () => {\n  _s2();\n  var _loanStats$activeLoan, _loanStats$repaidAmou, _loanDetails$maxAmoun, _loanDetails$totalToR, _selectedLoanForRepay, _selectedLoanForRepay2, _selectedLoanForRepay3, _selectedLoanForRepay4, _selectedLoanForRepay5, _repaymentCalculation, _repaymentCalculation2;\n  const {\n    user,\n    hasPermission\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // --- ÉTATS PRÊTS ---\n  const [loans, setLoans] = useState([]);\n  const [members, setMembers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isLoanModalOpen, setIsLoanModalOpen] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [formError, setFormError] = useState('');\n\n  // --- ÉTATS REMBOURSEMENTS ---\n  const [repayments, setRepayments] = useState([]);\n  const [isRepaymentModalOpen, setIsRepaymentModalOpen] = useState(false);\n  const [selectedLoanForRepayment, setSelectedLoanForRepayment] = useState(null);\n  const [activeTab, setActiveTab] = useState('loans');\n  const initialLoanFormState = {\n    member: 0,\n    amount: 5000,\n    justification: '',\n    guarantors: []\n  };\n  const initialRepaymentFormState = {\n    loan_request: 0,\n    amount: 0,\n    payment_type: 'partial',\n    notes: ''\n  };\n  const [newLoanRequest, setNewLoanRequest] = useState(initialLoanFormState);\n  const [newRepayment, setNewRepayment] = useState(initialRepaymentFormState);\n  const [guarantor1Id, setGuarantor1Id] = useState(0);\n  const [guarantor2Id, setGuarantor2Id] = useState(0);\n\n  // --- CALCULS MEMOIZÉS ---\n  const selectedMember = useMemo(() => {\n    return members.find(m => m.id === newLoanRequest.member);\n  }, [newLoanRequest.member, members]);\n  const loanDetails = useMemo(() => {\n    if (!selectedMember) return null;\n    const maxAmount = LoanService.getMaxLoanAmount(selectedMember.berry_score);\n    const interestRate = LoanService.getInterestRate(newLoanRequest.amount);\n    const totalToRepay = LoanService.calculateTotalToRepay(newLoanRequest.amount, interestRate);\n    let error = '';\n    if (newLoanRequest.amount > maxAmount) {\n      error = `Le montant dépasse votre plafond de prêt de ${maxAmount.toLocaleString()} XAF.`;\n    }\n    return {\n      maxAmount,\n      interestRate,\n      totalToRepay,\n      error\n    };\n  }, [newLoanRequest.amount, selectedMember]);\n  const repaymentCalculations = useMemo(() => {\n    if (!selectedLoanForRepayment) return null;\n    const loan = selectedLoanForRepayment;\n    const amount = newRepayment.amount;\n    if (amount <= 0) return null;\n    let capitalAmount = 0;\n    let interestAmount = 0;\n    let error = '';\n    if (amount > loan.remaining_balance) {\n      var _loan$remaining_balan;\n      error = `Le montant dépasse le solde restant (${((_loan$remaining_balan = loan.remaining_balance) !== null && _loan$remaining_balan !== void 0 ? _loan$remaining_balan : 0).toLocaleString()} XAF)`;\n    } else if (newRepayment.payment_type === 'interest_only') {\n      if (amount > loan.remaining_interest) {\n        var _loan$remaining_inter;\n        error = `Le montant dépasse les intérêts restants (${((_loan$remaining_inter = loan.remaining_interest) !== null && _loan$remaining_inter !== void 0 ? _loan$remaining_inter : 0).toLocaleString()} XAF)`;\n      } else {\n        interestAmount = amount;\n        capitalAmount = 0;\n      }\n    } else {\n      // Remboursement partiel ou complet\n      if (amount <= loan.remaining_interest) {\n        interestAmount = amount;\n        capitalAmount = 0;\n      } else {\n        interestAmount = loan.remaining_interest;\n        capitalAmount = amount - loan.remaining_interest;\n\n        // Vérifier le minimum de 10% du capital pour les remboursements de capital\n        if (capitalAmount > 0 && capitalAmount < loan.minimum_monthly_payment && loan.remaining_capital > loan.minimum_monthly_payment) {\n          var _loan$minimum_monthly;\n          error = `Le remboursement de capital doit être d'au moins ${((_loan$minimum_monthly = loan.minimum_monthly_payment) !== null && _loan$minimum_monthly !== void 0 ? _loan$minimum_monthly : 0).toLocaleString()} XAF (10% du capital restant)`;\n        }\n      }\n    }\n    return {\n      capitalAmount,\n      interestAmount,\n      error\n    };\n  }, [newRepayment.amount, newRepayment.payment_type, selectedLoanForRepayment]);\n  const loanStats = useMemo(() => ({\n    pendingCount: loans.filter(l => l.status === 'pending').length,\n    activeLoanAmount: loans.filter(l => l.status === 'approved').reduce((sum, l) => {\n      var _l$remaining_balance;\n      return sum + ((_l$remaining_balance = l.remaining_balance) !== null && _l$remaining_balance !== void 0 ? _l$remaining_balance : 0);\n    }, 0),\n    repaidAmount: loans.reduce((sum, l) => {\n      var _l$total_repaid;\n      return sum + ((_l$total_repaid = l.total_repaid) !== null && _l$total_repaid !== void 0 ? _l$total_repaid : 0);\n    }, 0)\n  }), [loans]);\n\n  // --- FONCTIONS API ---\n  const fetchLoans = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(`${API_BASE_URL}/loan-requests/`, {\n        headers: {\n          'Authorization': `Bearer ${user === null || user === void 0 ? void 0 : user.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Erreur HTTP: ${response.status}`);\n      }\n      const data = await response.json();\n      setLoans(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Erreur lors du chargement des prêts');\n      console.error('Erreur lors du chargement des prêts:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchRepayments = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/loan-repayments/`, {\n        headers: {\n          'Authorization': `Bearer ${user === null || user === void 0 ? void 0 : user.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Erreur HTTP: ${response.status}`);\n      }\n      const data = await response.json();\n      setRepayments(data);\n    } catch (err) {\n      console.error('Erreur lors du chargement des remboursements:', err);\n    }\n  };\n  const fetchMembers = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/members/`, {\n        headers: {\n          'Authorization': `Bearer ${user === null || user === void 0 ? void 0 : user.token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Erreur HTTP: ${response.status}`);\n      }\n      const data = await response.json();\n      setMembers(data);\n    } catch (err) {\n      console.error('Erreur lors du chargement des membres:', err);\n    }\n  };\n\n  // Charger les données au montage du composant\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.token) {\n      fetchLoans();\n      fetchRepayments();\n      fetchMembers();\n    }\n  }, [user === null || user === void 0 ? void 0 : user.token]);\n  const {\n    width\n  } = useWindowSize();\n  const isMobile = width < MOBILE_BREAKPOINT;\n\n  // --- VÉRIFICATION DES PERMISSIONS ---\n  if (!hasPermission('view_loans')) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.page,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.errorContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Acc\\xE8s refus\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Vous n'avez pas la permission de consulter les pr\\xEAts.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --- GESTIONNAIRES D'ÉVÉNEMENTS PRÊTS ---\n  const handleOpenLoanModal = () => {\n    if (!hasPermission('add_loan_requests')) {\n      alert(\"Vous n'avez pas la permission de faire une demande de prêt.\");\n      return;\n    }\n    const currentMember = members.find(m => m.user.id === parseInt((user === null || user === void 0 ? void 0 : user.id) || '0'));\n    setNewLoanRequest({\n      ...initialLoanFormState,\n      member: (currentMember === null || currentMember === void 0 ? void 0 : currentMember.id) || 0\n    });\n    setGuarantor1Id(0);\n    setGuarantor2Id(0);\n    setFormError('');\n    setIsLoanModalOpen(true);\n  };\n  const handleStatusUpdate = async (id, status) => {\n    if (!hasPermission('approve_loans')) {\n      alert(\"Vous n'avez pas la permission d'approuver des prêts.\");\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/loan-requests/${id}/`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${user === null || user === void 0 ? void 0 : user.token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Erreur lors de la mise à jour du statut');\n      }\n      await fetchLoans();\n      alert(`Prêt ${status === 'approved' ? 'approuvé' : 'rejeté'} avec succès`);\n    } catch (err) {\n      console.error('Erreur lors de la mise à jour:', err);\n      alert('Erreur lors de la mise à jour du statut');\n    }\n  };\n  const handleSaveLoanRequest = async () => {\n    if (!selectedMember || !loanDetails || !newLoanRequest.justification || !guarantor1Id || !guarantor2Id) {\n      setFormError(\"Veuillez remplir tous les champs.\");\n      return;\n    }\n    if (loanDetails.error) {\n      setFormError(loanDetails.error);\n      return;\n    }\n    if (guarantor1Id === guarantor2Id || guarantor1Id === selectedMember.id || guarantor2Id === selectedMember.id) {\n      setFormError(\"Veuillez choisir deux avaliseurs distincts et différents de vous-même.\");\n      return;\n    }\n    setIsSubmitting(true);\n    setFormError('');\n    try {\n      const loanData = {\n        member: newLoanRequest.member,\n        amount: newLoanRequest.amount,\n        justification: newLoanRequest.justification,\n        guarantors: [guarantor1Id, guarantor2Id],\n        interest_rate: loanDetails.interestRate\n      };\n      const response = await fetch(`${API_BASE_URL}/loan-requests/`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${user === null || user === void 0 ? void 0 : user.token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(loanData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Erreur lors de la création de la demande');\n      }\n      await fetchLoans();\n      setIsLoanModalOpen(false);\n      alert('Demande de prêt soumise avec succès !');\n    } catch (err) {\n      setFormError(err instanceof Error ? err.message : 'Erreur lors de la création');\n      console.error('Erreur lors de la création:', err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // --- GESTIONNAIRES D'ÉVÉNEMENTS REMBOURSEMENTS ---\n  const handleOpenRepaymentModal = loan => {\n    var _loan$minimum_monthly2;\n    if (!hasPermission('add_repayments') && !hasPermission('manage_loans')) {\n      alert(\"Vous n'avez pas la permission d'effectuer des remboursements.\");\n      return;\n    }\n    if (loan.status !== 'approved') {\n      alert(\"Seuls les prêts approuvés peuvent faire l'objet de remboursements.\");\n      return;\n    }\n    setSelectedLoanForRepayment(loan);\n    setNewRepayment({\n      ...initialRepaymentFormState,\n      loan_request: loan.id,\n      amount: (_loan$minimum_monthly2 = loan.minimum_monthly_payment) !== null && _loan$minimum_monthly2 !== void 0 ? _loan$minimum_monthly2 : 0\n    });\n    setFormError('');\n    setIsRepaymentModalOpen(true);\n  };\n  const handleSaveRepayment = async () => {\n    if (!selectedLoanForRepayment || !repaymentCalculations || repaymentCalculations.error) {\n      setFormError((repaymentCalculations === null || repaymentCalculations === void 0 ? void 0 : repaymentCalculations.error) || \"Veuillez vérifier les données saisies.\");\n      return;\n    }\n    if (newRepayment.amount <= 0) {\n      setFormError(\"Le montant doit être positif.\");\n      return;\n    }\n    setIsSubmitting(true);\n    setFormError('');\n    try {\n      const repaymentData = {\n        loan_request: newRepayment.loan_request,\n        amount: newRepayment.amount,\n        payment_type: newRepayment.payment_type,\n        notes: newRepayment.notes,\n        capital_amount: repaymentCalculations.capitalAmount,\n        interest_amount: repaymentCalculations.interestAmount\n      };\n      const response = await fetch(`${API_BASE_URL}/loan-repayments/`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${user === null || user === void 0 ? void 0 : user.token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(repaymentData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Erreur lors de la création du remboursement');\n      }\n      await fetchLoans();\n      await fetchRepayments();\n      setIsRepaymentModalOpen(false);\n      alert('Remboursement effectué avec succès !');\n    } catch (err) {\n      setFormError(err instanceof Error ? err.message : 'Erreur lors du remboursement');\n      console.error('Erreur lors du remboursement:', err);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const getMemberName = memberId => {\n    const member = members.find(m => m.id === memberId);\n    return member ? `${member.user.first_name} ${member.user.last_name}` : 'Membre inconnu';\n  };\n  const getGuarantorNames = guarantorIds => {\n    return guarantorIds.map(id => getMemberName(id)).join(', ');\n  };\n\n  // --- PERMISSIONS D'AFFICHAGE ---\n  const canViewStats = hasPermission('view_reports') || hasPermission('approve_loans');\n  const canAddLoans = hasPermission('add_loan_requests');\n  const canApproveLoans = hasPermission('approve_loans');\n  const canAddRepayments = hasPermission('add_repayments') || hasPermission('manage_loans');\n\n  // --- AFFICHAGE DE L'ERREUR ---\n  if (error && !loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.page,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.errorContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Erreur de chargement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchLoans,\n          style: styles.button,\n          children: \"R\\xE9essayer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --- RENDU PRINCIPAL ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.headerTitle,\n        children: [\"Gestion des Pr\\xEAts & Remboursements\", loading && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.loadingText,\n          children: \" (Chargement...)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        style: {\n          ...styles.button,\n          backgroundColor: '#6b7280'\n        },\n        children: \"\\u2190 Retour\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this), canViewStats && /*#__PURE__*/_jsxDEV(\"section\", {\n      style: styles.statSection,\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Solde des Pr\\xEAts Actifs\",\n        value: `${((_loanStats$activeLoan = loanStats.activeLoanAmount) !== null && _loanStats$activeLoan !== void 0 ? _loanStats$activeLoan : 0).toLocaleString()} XAF`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Demandes en Attente\",\n        value: loanStats.pendingCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Total Rembours\\xE9\",\n        value: `${((_loanStats$repaidAmou = loanStats.repaidAmount) !== null && _loanStats$repaidAmou !== void 0 ? _loanStats$repaidAmou : 0).toLocaleString()} XAF`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: styles.tabSection,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('loans'),\n        style: {\n          ...styles.tabButton,\n          ...(activeTab === 'loans' ? styles.activeTab : styles.inactiveTab)\n        },\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faMoneyBillWave,\n          style: {\n            marginRight: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), \"Pr\\xEAts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('repayments'),\n        style: {\n          ...styles.tabButton,\n          ...(activeTab === 'repayments' ? styles.activeTab : styles.inactiveTab)\n        },\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faHistory,\n          style: {\n            marginRight: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this), \"Remboursements\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this), activeTab === 'loans' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.controlsSection,\n        children: canAddLoans && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleOpenLoanModal,\n          style: styles.button,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faPlus,\n            style: {\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 17\n          }, this), \"Faire une Demande de Pr\\xEAt\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.loadingContainer,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Chargement des pr\\xEAts...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 13\n      }, this) : loans.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.emptyState,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Aucune demande de pr\\xEAt trouv\\xE9e.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 15\n        }, this), canAddLoans && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Commencez par faire votre premi\\xE8re demande !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 13\n      }, this) : isMobile ? /*#__PURE__*/_jsxDEV(MobileLoanList, {\n        loans: loans,\n        members: members,\n        hasPermission: hasPermission,\n        onStatusUpdate: handleStatusUpdate,\n        onRepayment: handleOpenRepaymentModal,\n        getMemberName: getMemberName,\n        getGuarantorNames: getGuarantorNames,\n        canAddRepayments: canAddRepayments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(DesktopLoanTable, {\n        loans: loans,\n        members: members,\n        hasPermission: hasPermission,\n        onStatusUpdate: handleStatusUpdate,\n        onRepayment: handleOpenRepaymentModal,\n        getMemberName: getMemberName,\n        getGuarantorNames: getGuarantorNames,\n        canAddRepayments: canAddRepayments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(RepaymentSection, {\n      repayments: repayments,\n      loading: loading,\n      isMobile: isMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 9\n    }, this), !canAddLoans && !canAddRepayments && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.permissionInfo,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Information :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 13\n        }, this), \" Vous pouvez consulter les pr\\xEAts et remboursements mais pas en effectuer. Contactez le Comit\\xE9 de Gestion pour plus d'informations.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 9\n    }, this), isLoanModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modalContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.modalTitle,\n          children: \"Nouvelle Demande de Pr\\xEAt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 13\n        }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.formError,\n          children: formError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalForm,\n          children: [hasPermission('create_loan_for_others') ? /*#__PURE__*/_jsxDEV(ModalSelect, {\n            label: \"Membre demandeur\",\n            value: newLoanRequest.member,\n            onChange: e => setNewLoanRequest({\n              ...newLoanRequest,\n              member: parseInt(e.target.value)\n            }),\n            disabled: isSubmitting,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 0,\n              disabled: true,\n              children: \"S\\xE9lectionner un membre...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 19\n            }, this), members.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: m.id,\n              children: [m.user.first_name, \" \", m.user.last_name, \" (\", m.berry_score, \" pts Berry)\"]\n            }, m.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.modalLabel,\n              children: \"Membre demandeur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.disabledInput,\n              children: selectedMember ? `${selectedMember.user.first_name} ${selectedMember.user.last_name}` : 'Membre Actuel'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 17\n          }, this), selectedMember && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ModalInput, {\n              label: \"Montant souhait\\xE9 (XAF)\",\n              type: \"number\",\n              step: \"1000\",\n              value: newLoanRequest.amount,\n              onChange: e => setNewLoanRequest({\n                ...newLoanRequest,\n                amount: parseFloat(e.target.value) || 0\n              }),\n              disabled: isSubmitting\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 19\n            }, this), loanDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.loanDetailsBox,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Plafond de pr\\xEAt: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [((_loanDetails$maxAmoun = loanDetails.maxAmount) !== null && _loanDetails$maxAmoun !== void 0 ? _loanDetails$maxAmoun : 0).toLocaleString(), \" XAF\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 43\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Taux d'int\\xE9r\\xEAt: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [loanDetails.interestRate, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Total \\xE0 rembourser: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [((_loanDetails$totalToR = loanDetails.totalToRepay) !== null && _loanDetails$totalToR !== void 0 ? _loanDetails$totalToR : 0).toLocaleString(), \" XAF\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 23\n              }, this), loanDetails.error && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#ef4444'\n                },\n                children: loanDetails.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ModalTextarea, {\n              label: \"Motif de la demande (urgence av\\xE9r\\xE9e)\",\n              value: newLoanRequest.justification,\n              onChange: e => setNewLoanRequest({\n                ...newLoanRequest,\n                justification: e.target.value\n              }),\n              placeholder: \"D\\xE9crivez pr\\xE9cis\\xE9ment la nature de votre urgence...\",\n              disabled: isSubmitting\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ModalSelect, {\n              label: \"Avaliseur / Garant 1\",\n              value: guarantor1Id,\n              onChange: e => setGuarantor1Id(parseInt(e.target.value)),\n              disabled: isSubmitting,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                disabled: true,\n                children: \"S\\xE9lectionner...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 21\n              }, this), members.filter(m => m.id !== newLoanRequest.member).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: m.id,\n                children: [m.user.first_name, \" \", m.user.last_name]\n              }, m.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ModalSelect, {\n              label: \"Avaliseur / Garant 2\",\n              value: guarantor2Id,\n              onChange: e => setGuarantor2Id(parseInt(e.target.value)),\n              disabled: isSubmitting,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 0,\n                disabled: true,\n                children: \"S\\xE9lectionner...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 21\n              }, this), members.filter(m => m.id !== newLoanRequest.member).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: m.id,\n                children: [m.user.first_name, \" \", m.user.last_name]\n              }, m.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalActions,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsLoanModalOpen(false),\n            style: {\n              ...styles.button,\n              backgroundColor: '#6b7280'\n            },\n            disabled: isSubmitting,\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveLoanRequest,\n            style: styles.button,\n            disabled: isSubmitting,\n            children: isSubmitting ? 'Soumission...' : 'Soumettre la Demande'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 9\n    }, this), isRepaymentModalOpen && selectedLoanForRepayment && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modalContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.modalTitle,\n          children: \"Effectuer un Remboursement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 13\n        }, this), formError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.formError,\n          children: formError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalForm,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.loanInfoBox,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Informations du Pr\\xEAt #\", selectedLoanForRepayment.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Emprunteur :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 770,\n                columnNumber: 20\n              }, this), \" \", selectedLoanForRepayment.member_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Montant initial :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 20\n              }, this), \" \", ((_selectedLoanForRepay = selectedLoanForRepayment.amount) !== null && _selectedLoanForRepay !== void 0 ? _selectedLoanForRepay : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Solde restant :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 772,\n                columnNumber: 20\n              }, this), \" \", ((_selectedLoanForRepay2 = selectedLoanForRepayment.remaining_balance) !== null && _selectedLoanForRepay2 !== void 0 ? _selectedLoanForRepay2 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Capital restant :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 20\n              }, this), \" \", ((_selectedLoanForRepay3 = selectedLoanForRepayment.remaining_capital) !== null && _selectedLoanForRepay3 !== void 0 ? _selectedLoanForRepay3 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Int\\xE9r\\xEAts restants :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 20\n              }, this), \" \", ((_selectedLoanForRepay4 = selectedLoanForRepayment.remaining_interest) !== null && _selectedLoanForRepay4 !== void 0 ? _selectedLoanForRepay4 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Paiement minimum :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 20\n              }, this), \" \", ((_selectedLoanForRepay5 = selectedLoanForRepayment.minimum_monthly_payment) !== null && _selectedLoanForRepay5 !== void 0 ? _selectedLoanForRepay5 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalSelect, {\n            label: \"Type de remboursement\",\n            value: newRepayment.payment_type,\n            onChange: e => setNewRepayment({\n              ...newRepayment,\n              payment_type: e.target.value\n            }),\n            disabled: isSubmitting,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"partial\",\n              children: \"Remboursement partiel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"interest_only\",\n              children: \"Int\\xE9r\\xEAts uniquement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"full\",\n              children: \"Remboursement complet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ModalInput, {\n            label: \"Montant \\xE0 rembourser (XAF)\",\n            type: \"number\",\n            step: \"100\",\n            value: newRepayment.amount,\n            onChange: e => setNewRepayment({\n              ...newRepayment,\n              amount: parseFloat(e.target.value) || 0\n            }),\n            disabled: isSubmitting\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 15\n          }, this), repaymentCalculations && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.calculationBox,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faCalculator\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 806,\n                columnNumber: 23\n              }, this), \" R\\xE9partition du remboursement :\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Capital :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 22\n              }, this), \" \", ((_repaymentCalculation = repaymentCalculations.capitalAmount) !== null && _repaymentCalculation !== void 0 ? _repaymentCalculation : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Int\\xE9r\\xEAts :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 22\n              }, this), \" \", ((_repaymentCalculation2 = repaymentCalculations.interestAmount) !== null && _repaymentCalculation2 !== void 0 ? _repaymentCalculation2 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 19\n            }, this), repaymentCalculations.error && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#ef4444'\n              },\n              children: repaymentCalculations.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ModalTextarea, {\n            label: \"Notes (optionnel)\",\n            value: newRepayment.notes,\n            onChange: e => setNewRepayment({\n              ...newRepayment,\n              notes: e.target.value\n            }),\n            placeholder: \"Notes sur ce remboursement...\",\n            disabled: isSubmitting\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalActions,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsRepaymentModalOpen(false),\n            style: {\n              ...styles.button,\n              backgroundColor: '#6b7280'\n            },\n            disabled: isSubmitting,\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveRepayment,\n            style: styles.button,\n            disabled: isSubmitting || (repaymentCalculations !== null && repaymentCalculations !== void 0 && repaymentCalculations.error ? true : false),\n            children: isSubmitting ? 'Traitement...' : 'Effectuer le Remboursement'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 762,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 533,\n    columnNumber: 5\n  }, this);\n};\n\n// --- COMPOSANTS SPÉCIALISÉS ---\n\n// Section Remboursements\n_s2(Loans, \"JsLrSDk9aBJ8yRlw5KH14d9u1PY=\", false, function () {\n  return [useAuth, useNavigate, useWindowSize];\n});\n_c = Loans;\nconst RepaymentSection = ({\n  repayments,\n  loading,\n  isMobile\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n    style: {\n      marginBottom: '16px',\n      color: '#1f2937'\n    },\n    children: \"Historique des Remboursements\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 859,\n    columnNumber: 5\n  }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.loadingContainer,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Chargement des remboursements...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 863,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 862,\n    columnNumber: 7\n  }, this) : repayments.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.emptyState,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Aucun remboursement enregistr\\xE9.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 867,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 866,\n    columnNumber: 7\n  }, this) : isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '16px'\n    },\n    children: repayments.map(repayment => {\n      var _repayment$amount, _repayment$capital_am, _repayment$interest_a;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.mobileCard,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.mobileCardHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: [\"Pr\\xEAt #\", repayment.loan_request, \" - \", repayment.loan_member_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              ...styles.chip,\n              backgroundColor: '#dcfce7',\n              color: '#166534'\n            },\n            children: LoanService.getPaymentTypeDisplayName(repayment.payment_type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 877,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.mobileCardBody,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Montant:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [((_repayment$amount = repayment.amount) !== null && _repayment$amount !== void 0 ? _repayment$amount : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Capital:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [((_repayment$capital_am = repayment.capital_amount) !== null && _repayment$capital_am !== void 0 ? _repayment$capital_am : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 888,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Int\\xE9r\\xEAts:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [((_repayment$interest_a = repayment.interest_amount) !== null && _repayment$interest_a !== void 0 ? _repayment$interest_a : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(repayment.date).toLocaleDateString('fr-FR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 896,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 15\n          }, this), repayment.processed_by_name && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Trait\\xE9 par:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: repayment.processed_by_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 881,\n          columnNumber: 13\n        }, this)]\n      }, repayment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 870,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.tableContainer,\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      style: styles.table,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Pr\\xEAt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Emprunteur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Montant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Capital\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 916,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Int\\xE9r\\xEAts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Trait\\xE9 par\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: repayments.map(repayment => {\n          var _repayment$amount2, _repayment$capital_am2, _repayment$interest_a2;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: [\"#\", repayment.loan_request]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: repayment.loan_member_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 927,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: [((_repayment$amount2 = repayment.amount) !== null && _repayment$amount2 !== void 0 ? _repayment$amount2 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: [((_repayment$capital_am2 = repayment.capital_amount) !== null && _repayment$capital_am2 !== void 0 ? _repayment$capital_am2 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: [((_repayment$interest_a2 = repayment.interest_amount) !== null && _repayment$interest_a2 !== void 0 ? _repayment$interest_a2 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  ...styles.chip,\n                  backgroundColor: '#dcfce7',\n                  color: '#166534'\n                },\n                children: LoanService.getPaymentTypeDisplayName(repayment.payment_type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: new Date(repayment.date).toLocaleDateString('fr-FR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: repayment.processed_by_name || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 17\n            }, this)]\n          }, repayment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 923,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 909,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 858,\n  columnNumber: 3\n}, this);\n\n// --- VUES DESKTOP & MOBILE POUR LES PRÊTS ---\n_c2 = RepaymentSection;\nconst DesktopLoanTable = ({\n  loans,\n  members,\n  hasPermission,\n  onStatusUpdate,\n  onRepayment,\n  getMemberName,\n  getGuarantorNames,\n  canAddRepayments\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: styles.tableContainer,\n  children: /*#__PURE__*/_jsxDEV(\"table\", {\n    style: styles.table,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          style: styles.th,\n          children: \"Membre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: styles.th,\n          children: \"Montant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 974,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: styles.th,\n          children: \"Solde\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 975,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: styles.th,\n          children: \"Progression\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: styles.th,\n          children: \"Statut\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: styles.th,\n          children: \"Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 972,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: loans.map(loan => {\n        var _loan$total_amount_wi, _loan$total_repaid, _loan$amount, _loan$remaining_balan2;\n        const totalToRepay = (_loan$total_amount_wi = loan.total_amount_with_interest) !== null && _loan$total_amount_wi !== void 0 ? _loan$total_amount_wi : 0;\n        const totalRepaid = (_loan$total_repaid = loan.total_repaid) !== null && _loan$total_repaid !== void 0 ? _loan$total_repaid : 0;\n        const progressPercentage = totalToRepay > 0 ? (totalRepaid / totalToRepay * 100).toFixed(1) : \"0.0\";\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: loan.member_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: [((_loan$amount = loan.amount) !== null && _loan$amount !== void 0 ? _loan$amount : 0).toLocaleString(), \" XAF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: loan.status === 'approved' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [((_loan$remaining_balan2 = loan.remaining_balance) !== null && _loan$remaining_balan2 !== void 0 ? _loan$remaining_balan2 : 0).toLocaleString(), \" XAF\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6b7280'\n                },\n                children: [\"sur \", totalToRepay.toLocaleString(), \" XAF\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 995,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 19\n            }, this) : loan.status === 'repaid' ? '0 XAF' : '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: (loan.status === 'approved' || loan.status === 'repaid') && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '100px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundColor: '#e5e7eb',\n                  borderRadius: '4px',\n                  height: '8px',\n                  overflow: 'hidden'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    backgroundColor: loan.is_fully_repaid ? '#22c55e' : '#3b82f6',\n                    height: '100%',\n                    width: `${progressPercentage}%`,\n                    transition: 'width 0.3s ease'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  marginTop: '2px',\n                  textAlign: 'center'\n                },\n                children: [progressPercentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: /*#__PURE__*/_jsxDEV(StatusChip, {\n              status: LoanService.getStatusDisplayName(loan.status)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1026,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: styles.td,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '8px',\n                flexWrap: 'wrap'\n              },\n              children: [loan.status === 'pending' && hasPermission('approve_loans') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => onStatusUpdate(loan.id, 'approved'),\n                  style: {\n                    ...styles.actionButton,\n                    backgroundColor: '#22c55e'\n                  },\n                  title: \"Approuver\",\n                  children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faCheck\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => onStatusUpdate(loan.id, 'rejected'),\n                  style: {\n                    ...styles.actionButton,\n                    backgroundColor: '#ef4444'\n                  },\n                  title: \"Rejeter\",\n                  children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faTimes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1044,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1039,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), loan.status === 'approved' && !loan.is_fully_repaid && canAddRepayments && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onRepayment(loan),\n                style: {\n                  ...styles.actionButton,\n                  backgroundColor: '#3b82f6'\n                },\n                title: \"Rembourser\",\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faMoneyBillWave\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1054,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1049,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1029,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1028,\n            columnNumber: 15\n          }, this)]\n        }, loan.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 981,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 970,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 969,\n  columnNumber: 3\n}, this);\n_c3 = DesktopLoanTable;\nconst MobileLoanList = ({\n  loans,\n  members,\n  hasPermission,\n  onStatusUpdate,\n  onRepayment,\n  getMemberName,\n  getGuarantorNames,\n  canAddRepayments\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '16px'\n  },\n  children: loans.map(loan => {\n    var _loan$total_amount_wi2, _loan$total_repaid2, _loan$amount2, _loan$remaining_balan3;\n    const totalToRepay = (_loan$total_amount_wi2 = loan.total_amount_with_interest) !== null && _loan$total_amount_wi2 !== void 0 ? _loan$total_amount_wi2 : 0;\n    const totalRepaid = (_loan$total_repaid2 = loan.total_repaid) !== null && _loan$total_repaid2 !== void 0 ? _loan$total_repaid2 : 0;\n    const progressPercentage = totalToRepay > 0 ? (totalRepaid / totalToRepay * 100).toFixed(1) : \"0.0\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.mobileCard,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.mobileCardHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 'bold',\n            color: '#1f2937'\n          },\n          children: loan.member_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1086,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StatusChip, {\n          status: LoanService.getStatusDisplayName(loan.status)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.mobileCardBody,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.mobileCardRow,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Montant initial:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [((_loan$amount2 = loan.amount) !== null && _loan$amount2 !== void 0 ? _loan$amount2 : 0).toLocaleString(), \" XAF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1092,\n          columnNumber: 13\n        }, this), (loan.status === 'approved' || loan.status === 'repaid') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Solde restant:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: loan.is_fully_repaid ? '#22c55e' : '#ef4444'\n              },\n              children: [((_loan$remaining_balan3 = loan.remaining_balance) !== null && _loan$remaining_balan3 !== void 0 ? _loan$remaining_balan3 : 0).toLocaleString(), \" XAF\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.mobileCardRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Progression:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1105,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [progressPercentage, \"% rembours\\xE9\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1106,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.mobileCardFooter,\n        children: [loan.status === 'pending' && hasPermission('approve_loans') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onStatusUpdate(loan.id, 'approved'),\n            style: {\n              ...styles.button,\n              flex: 1,\n              backgroundColor: '#22c55e'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faCheck,\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1119,\n              columnNumber: 19\n            }, this), \"Approuver\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onStatusUpdate(loan.id, 'rejected'),\n            style: {\n              ...styles.button,\n              flex: 1,\n              backgroundColor: '#ef4444'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faTimes,\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 19\n            }, this), \"Rejeter\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), loan.status === 'approved' && !loan.is_fully_repaid && canAddRepayments && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onRepayment(loan),\n          style: {\n            ...styles.button,\n            flex: 1,\n            backgroundColor: '#3b82f6'\n          },\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faMoneyBillWave,\n            style: {\n              marginRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1136,\n            columnNumber: 17\n          }, this), \"Rembourser\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1132,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1112,\n        columnNumber: 11\n      }, this)]\n    }, loan.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1084,\n      columnNumber: 9\n    }, this);\n  })\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 1077,\n  columnNumber: 3\n}, this);\n\n// --- SOUS-COMPOSANTS & STYLES ---\n_c4 = MobileLoanList;\nconst StatCard = ({\n  title,\n  value\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    ...styles.card,\n    flex: '1 1 250px',\n    textAlign: 'center'\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n    style: styles.statTitle,\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1150,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    style: styles.statValue,\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1151,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1149,\n  columnNumber: 3\n}, this);\n_c5 = StatCard;\nconst StatusChip = ({\n  status\n}) => {\n  const statusColors = {\n    'En attente': {\n      backgroundColor: '#fef3c7',\n      color: '#92400e'\n    },\n    'Approuvé': {\n      backgroundColor: '#dcfce7',\n      color: '#166534'\n    },\n    'Rejeté': {\n      backgroundColor: '#fee2e2',\n      color: '#991b1b'\n    },\n    'Remboursé': {\n      backgroundColor: '#e0e7ff',\n      color: '#3730a3'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      ...styles.chip,\n      ...statusColors[status]\n    },\n    children: status\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1164,\n    columnNumber: 5\n  }, this);\n};\n_c6 = StatusChip;\nconst ModalInput = ({\n  label,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    style: styles.modalLabel,\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1175,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    style: styles.modalInput,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1176,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1174,\n  columnNumber: 3\n}, this);\n_c7 = ModalInput;\nconst ModalSelect = ({\n  label,\n  children,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    style: styles.modalLabel,\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1186,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    style: styles.modalInput,\n    ...props,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1187,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1185,\n  columnNumber: 3\n}, this);\n_c8 = ModalSelect;\nconst ModalTextarea = ({\n  label,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    style: styles.modalLabel,\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1196,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n    style: {\n      ...styles.modalInput,\n      height: '80px'\n    },\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1197,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1195,\n  columnNumber: 3\n}, this);\n_c9 = ModalTextarea;\nconst styles = {\n  page: {\n    fontFamily: 'Arial, sans-serif',\n    padding: '16px',\n    backgroundColor: '#f3f4f6',\n    minHeight: '100vh'\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '24px',\n    flexWrap: 'wrap',\n    gap: '16px'\n  },\n  headerTitle: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    color: '#1f2937',\n    margin: 0\n  },\n  loadingText: {\n    fontSize: '16px',\n    fontWeight: 'normal',\n    color: '#6b7280'\n  },\n  errorContainer: {\n    textAlign: 'center',\n    padding: '40px',\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'\n  },\n  loadingContainer: {\n    textAlign: 'center',\n    padding: '40px'\n  },\n  emptyState: {\n    textAlign: 'center',\n    padding: '40px',\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'\n  },\n  statSection: {\n    display: 'flex',\n    gap: '16px',\n    flexWrap: 'wrap',\n    marginBottom: '24px'\n  },\n  card: {\n    backgroundColor: 'white',\n    padding: '16px',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'\n  },\n  statTitle: {\n    margin: 0,\n    color: '#4b5563',\n    fontSize: '14px',\n    fontWeight: '600'\n  },\n  statValue: {\n    margin: '8px 0 0 0',\n    color: '#1e3a8a',\n    fontSize: '22px',\n    fontWeight: 'bold'\n  },\n  // Styles des onglets\n  tabSection: {\n    display: 'flex',\n    marginBottom: '24px',\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    overflow: 'hidden',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)'\n  },\n  tabButton: {\n    flex: 1,\n    padding: '12px 24px',\n    border: 'none',\n    fontSize: '14px',\n    fontWeight: '600',\n    cursor: 'pointer',\n    transition: 'all 0.2s',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  activeTab: {\n    backgroundColor: '#3b82f6',\n    color: 'white'\n  },\n  inactiveTab: {\n    backgroundColor: 'white',\n    color: '#6b7280'\n  },\n  controlsSection: {\n    marginBottom: '24px'\n  },\n  button: {\n    padding: '10px 16px',\n    backgroundColor: '#2563eb',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: '600',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transition: 'background-color 0.2s',\n    fontSize: '14px'\n  },\n  permissionInfo: {\n    backgroundColor: '#e0f2fe',\n    padding: '12px',\n    borderRadius: '8px',\n    marginTop: '16px',\n    border: '1px solid #0891b2'\n  },\n  tableContainer: {\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n    overflowX: 'auto'\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse'\n  },\n  th: {\n    padding: '12px 16px',\n    textAlign: 'left',\n    fontSize: '14px',\n    color: '#4b5563',\n    backgroundColor: '#f9fafb',\n    borderBottom: '1px solid #e5e7eb',\n    fontWeight: '600'\n  },\n  td: {\n    padding: '12px 16px',\n    fontSize: '14px',\n    color: '#374151',\n    borderBottom: '1px solid #e5e7eb',\n    verticalAlign: 'middle'\n  },\n  chip: {\n    padding: '4px 12px',\n    borderRadius: '9999px',\n    fontWeight: '600',\n    fontSize: '12px'\n  },\n  actionButton: {\n    padding: '8px 12px',\n    border: 'none',\n    borderRadius: '6px',\n    color: 'white',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '14px',\n    fontWeight: 'bold'\n  },\n  // Styles des modals\n  modalOverlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1000,\n    padding: '16px'\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: '24px',\n    borderRadius: '12px',\n    width: '100%',\n    maxWidth: '600px',\n    boxShadow: '0 8px 16px rgba(0, 0, 0, 0.2)',\n    maxHeight: '90vh',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  modalTitle: {\n    fontSize: '22px',\n    fontWeight: 'bold',\n    marginBottom: '24px',\n    color: '#1f2937',\n    flexShrink: 0,\n    textAlign: 'center'\n  },\n  modalForm: {\n    flexGrow: 1,\n    overflowY: 'auto',\n    paddingRight: '12px',\n    marginRight: '-12px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '16px'\n  },\n  modalLabel: {\n    display: 'block',\n    marginBottom: '8px',\n    fontWeight: '600',\n    color: '#374151',\n    fontSize: '14px'\n  },\n  modalInput: {\n    width: '100%',\n    padding: '10px',\n    border: '1px solid #d1d5db',\n    borderRadius: '8px',\n    boxSizing: 'border-box',\n    fontSize: '16px'\n  },\n  disabledInput: {\n    width: '100%',\n    padding: '10px',\n    border: '1px solid #e5e7eb',\n    backgroundColor: '#f9fafb',\n    color: '#6b7280',\n    borderRadius: '8px',\n    boxSizing: 'border-box',\n    fontSize: '16px'\n  },\n  modalActions: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    gap: '12px',\n    marginTop: '24px',\n    flexShrink: 0\n  },\n  formError: {\n    color: '#ef4444',\n    backgroundColor: '#fee2e2',\n    padding: '10px',\n    borderRadius: '8px',\n    textAlign: 'center',\n    marginBottom: '16px'\n  },\n  // Styles spécifiques aux remboursements\n  loanDetailsBox: {\n    backgroundColor: '#f3f4f6',\n    padding: '12px',\n    borderRadius: '8px',\n    fontSize: '14px',\n    lineHeight: 1.6,\n    borderLeft: '4px solid #3b82f6'\n  },\n  loanInfoBox: {\n    backgroundColor: '#f0f9ff',\n    padding: '16px',\n    borderRadius: '8px',\n    fontSize: '14px',\n    lineHeight: 1.6,\n    borderLeft: '4px solid #0ea5e9'\n  },\n  calculationBox: {\n    backgroundColor: '#f0fdf4',\n    padding: '12px',\n    borderRadius: '8px',\n    fontSize: '14px',\n    lineHeight: 1.6,\n    borderLeft: '4px solid #22c55e'\n  },\n  // Styles mobile\n  mobileCard: {\n    backgroundColor: 'white',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n    overflow: 'hidden'\n  },\n  mobileCardHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '12px 16px',\n    backgroundColor: '#f9fafb',\n    borderBottom: '1px solid #e5e7eb'\n  },\n  mobileCardBody: {\n    padding: '16px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '10px'\n  },\n  mobileCardRow: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    fontSize: '14px'\n  },\n  mobileCardFooter: {\n    padding: '12px 16px',\n    backgroundColor: '#f9fafb',\n    borderTop: '1px solid #e5e7eb',\n    display: 'flex',\n    gap: '12px'\n  }\n};\nexport default Loans;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Loans\");\n$RefreshReg$(_c2, \"RepaymentSection\");\n$RefreshReg$(_c3, \"DesktopLoanTable\");\n$RefreshReg$(_c4, \"MobileLoanList\");\n$RefreshReg$(_c5, \"StatCard\");\n$RefreshReg$(_c6, \"StatusChip\");\n$RefreshReg$(_c7, \"ModalInput\");\n$RefreshReg$(_c8, \"ModalSelect\");\n$RefreshReg$(_c9, \"ModalTextarea\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useAuth","useNavigate","FontAwesomeIcon","faPlus","faCheck","faTimes","faMoneyBillWave","faHistory","faCalculator","jsxDEV","_jsxDEV","Fragment","_Fragment","useWindowSize","_s","size","setSize","window","innerWidth","handleResize","addEventListener","removeEventListener","width","MOBILE_BREAKPOINT","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","LoanService","getMaxLoanAmount","berryPoints","getInterestRate","amount","calculateTotalToRepay","interestRate","getStatusDisplayName","status","statusMap","getPaymentTypeDisplayName","type","typeMap","Loans","_s2","_loanStats$activeLoan","_loanStats$repaidAmou","_loanDetails$maxAmoun","_loanDetails$totalToR","_selectedLoanForRepay","_selectedLoanForRepay2","_selectedLoanForRepay3","_selectedLoanForRepay4","_selectedLoanForRepay5","_repaymentCalculation","_repaymentCalculation2","user","hasPermission","navigate","loans","setLoans","members","setMembers","loading","setLoading","error","setError","isLoanModalOpen","setIsLoanModalOpen","isSubmitting","setIsSubmitting","formError","setFormError","repayments","setRepayments","isRepaymentModalOpen","setIsRepaymentModalOpen","selectedLoanForRepayment","setSelectedLoanForRepayment","activeTab","setActiveTab","initialLoanFormState","member","justification","guarantors","initialRepaymentFormState","loan_request","payment_type","notes","newLoanRequest","setNewLoanRequest","newRepayment","setNewRepayment","guarantor1Id","setGuarantor1Id","guarantor2Id","setGuarantor2Id","selectedMember","find","m","id","loanDetails","maxAmount","berry_score","totalToRepay","toLocaleString","repaymentCalculations","loan","capitalAmount","interestAmount","remaining_balance","_loan$remaining_balan","remaining_interest","_loan$remaining_inter","minimum_monthly_payment","remaining_capital","_loan$minimum_monthly","loanStats","pendingCount","filter","l","length","activeLoanAmount","reduce","sum","_l$remaining_balance","repaidAmount","_l$total_repaid","total_repaid","fetchLoans","response","fetch","headers","token","ok","Error","data","json","err","message","console","fetchRepayments","fetchMembers","isMobile","style","styles","page","children","errorContainer","fileName","_jsxFileName","lineNumber","columnNumber","handleOpenLoanModal","alert","currentMember","parseInt","handleStatusUpdate","method","body","JSON","stringify","handleSaveLoanRequest","loanData","interest_rate","errorData","handleOpenRepaymentModal","_loan$minimum_monthly2","handleSaveRepayment","repaymentData","capital_amount","interest_amount","getMemberName","memberId","first_name","last_name","getGuarantorNames","guarantorIds","map","join","canViewStats","canAddLoans","canApproveLoans","canAddRepayments","onClick","button","header","headerTitle","loadingText","backgroundColor","statSection","StatCard","title","value","tabSection","tabButton","inactiveTab","icon","marginRight","controlsSection","loadingContainer","emptyState","MobileLoanList","onStatusUpdate","onRepayment","DesktopLoanTable","RepaymentSection","permissionInfo","modalOverlay","modalContent","modalTitle","modalForm","ModalSelect","label","onChange","e","target","disabled","modalLabel","disabledInput","ModalInput","step","parseFloat","loanDetailsBox","color","ModalTextarea","placeholder","modalActions","loanInfoBox","member_name","calculationBox","_c","marginBottom","display","flexDirection","gap","repayment","_repayment$amount","_repayment$capital_am","_repayment$interest_a","mobileCard","mobileCardHeader","fontWeight","loan_member_name","chip","mobileCardBody","mobileCardRow","Date","date","toLocaleDateString","processed_by_name","tableContainer","table","th","_repayment$amount2","_repayment$capital_am2","_repayment$interest_a2","td","_c2","_loan$total_amount_wi","_loan$total_repaid","_loan$amount","_loan$remaining_balan2","total_amount_with_interest","totalRepaid","progressPercentage","toFixed","fontSize","borderRadius","height","overflow","is_fully_repaid","transition","marginTop","textAlign","StatusChip","flexWrap","actionButton","_c3","_loan$total_amount_wi2","_loan$total_repaid2","_loan$amount2","_loan$remaining_balan3","mobileCardFooter","flex","_c4","card","statTitle","statValue","_c5","statusColors","_c6","props","modalInput","_c7","_c8","_c9","fontFamily","padding","minHeight","justifyContent","alignItems","margin","boxShadow","border","cursor","overflowX","borderCollapse","borderBottom","verticalAlign","position","top","left","right","bottom","zIndex","maxWidth","maxHeight","flexShrink","flexGrow","overflowY","paddingRight","boxSizing","lineHeight","borderLeft","borderTop","$RefreshReg$"],"sources":["D:/Projects/FriendlyBanks/frontend/src/components/Loans.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, ReactNode, InputHTMLAttributes, SelectHTMLAttributes, TextareaHTMLAttributes, ChangeEvent } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faCheck, faTimes, faMoneyBillWave, faHistory, faCalculator } from '@fortawesome/free-solid-svg-icons';\r\n\r\n// --- HOOK POUR LA RESPONSIVITÉ ---\r\nconst useWindowSize = () => {\r\n  const [size, setSize] = useState([window.innerWidth]);\r\n  useEffect(() => {\r\n    const handleResize = () => setSize([window.innerWidth]);\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  return { width: size[0] };\r\n};\r\n\r\n// --- INTERFACES ADAPTÉES À L'API DJANGO ---\r\ninterface ApiLoanRequest {\r\n  id: number;\r\n  member: number;\r\n  member_name: string;\r\n  amount: number;\r\n  justification: string;\r\n  date_requested: string;\r\n  status: 'pending' | 'approved' | 'rejected' | 'repaid';\r\n  interest_rate: number;\r\n  repayment_due_date: string | null;\r\n  guarantors: number[];\r\n  guarantor_names: string[];\r\n  \r\n  // Champs calculés pour le remboursement\r\n  total_amount_with_interest: number;\r\n  total_repaid: number;\r\n  remaining_balance: number;\r\n  capital_repaid: number;\r\n  interest_repaid: number;\r\n  remaining_capital: number;\r\n  remaining_interest: number;\r\n  is_fully_repaid: boolean;\r\n  minimum_monthly_payment: number;\r\n  repayments: ApiLoanRepayment[];\r\n}\r\n\r\ninterface ApiLoanRepayment {\r\n  id: number;\r\n  loan_request: number;\r\n  amount: number;\r\n  capital_amount: number;\r\n  interest_amount: number;\r\n  payment_type: 'partial' | 'interest_only' | 'full';\r\n  date: string;\r\n  notes: string;\r\n  processed_by_name: string;\r\n  loan_member_name: string;\r\n}\r\n\r\ninterface ApiMember {\r\n  id: number;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    email: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    role: string;\r\n  };\r\n  berry_score: number;\r\n  shares: number;\r\n}\r\n\r\ninterface LoanFormData {\r\n  member: number;\r\n  amount: number;\r\n  justification: string;\r\n  guarantors: number[];\r\n}\r\n\r\ninterface RepaymentFormData {\r\n  loan_request: number;\r\n  amount: number;\r\n  payment_type: 'partial' | 'interest_only' | 'full';\r\n  notes: string;\r\n}\r\n\r\n// --- CONSTANTES ---\r\nconst MOBILE_BREAKPOINT = 768;\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://127.0.0.1:8000/api';\r\n\r\n// --- SERVICE DE LOGIQUE MÉTIER SELON LA CHARTE FRIENDLY BANKS ---\r\nconst LoanService = {\r\n  getMaxLoanAmount: (berryPoints: number) => {\r\n    if (berryPoints >= 10 && berryPoints <= 100) return 60000;\r\n    if (berryPoints > 100 && berryPoints <= 199) return 120000;\r\n    if (berryPoints >= 200 && berryPoints <= 499) return 300000;\r\n    if (berryPoints >= 500) return 500000;\r\n    return 0;\r\n  },\r\n  \r\n  getInterestRate: (amount: number) => {\r\n    if (amount > 0 && amount < 40000) return 10;\r\n    if (amount >= 40000 && amount < 100000) return 8;\r\n    if (amount >= 100000) return 6;\r\n    return 0;\r\n  },\r\n\r\n  calculateTotalToRepay: (amount: number, interestRate: number) => {\r\n    return amount * (1 + interestRate / 100);\r\n  },\r\n\r\n  getStatusDisplayName: (status: string) => {\r\n    const statusMap: { [key: string]: string } = {\r\n      'pending': 'En attente',\r\n      'approved': 'Approuvé',\r\n      'rejected': 'Rejeté',\r\n      'repaid': 'Remboursé'\r\n    };\r\n    return statusMap[status] || status;\r\n  },\r\n\r\n  getPaymentTypeDisplayName: (type: string) => {\r\n    const typeMap: { [key: string]: string } = {\r\n      'partial': 'Remboursement partiel',\r\n      'interest_only': 'Intérêts uniquement',\r\n      'full': 'Remboursement complet'\r\n    };\r\n    return typeMap[type] || type;\r\n  }\r\n};\r\n\r\n// --- COMPOSANT PRINCIPAL ---\r\nconst Loans: React.FC = () => {\r\n  const { user, hasPermission } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // --- ÉTATS PRÊTS ---\r\n  const [loans, setLoans] = useState<ApiLoanRequest[]>([]);\r\n  const [members, setMembers] = useState<ApiMember[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isLoanModalOpen, setIsLoanModalOpen] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [formError, setFormError] = useState('');\r\n  \r\n  // --- ÉTATS REMBOURSEMENTS ---\r\n  const [repayments, setRepayments] = useState<ApiLoanRepayment[]>([]);\r\n  const [isRepaymentModalOpen, setIsRepaymentModalOpen] = useState(false);\r\n  const [selectedLoanForRepayment, setSelectedLoanForRepayment] = useState<ApiLoanRequest | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'loans' | 'repayments'>('loans');\r\n  \r\n  const initialLoanFormState: LoanFormData = {\r\n    member: 0,\r\n    amount: 5000,\r\n    justification: '',\r\n    guarantors: []\r\n  };\r\n  \r\n  const initialRepaymentFormState: RepaymentFormData = {\r\n    loan_request: 0,\r\n    amount: 0,\r\n    payment_type: 'partial',\r\n    notes: ''\r\n  };\r\n  \r\n  const [newLoanRequest, setNewLoanRequest] = useState(initialLoanFormState);\r\n  const [newRepayment, setNewRepayment] = useState(initialRepaymentFormState);\r\n  const [guarantor1Id, setGuarantor1Id] = useState<number>(0);\r\n  const [guarantor2Id, setGuarantor2Id] = useState<number>(0);\r\n\r\n  // --- CALCULS MEMOIZÉS ---\r\n  const selectedMember = useMemo(() => {\r\n    return members.find(m => m.id === newLoanRequest.member);\r\n  }, [newLoanRequest.member, members]);\r\n  \r\n  const loanDetails = useMemo(() => {\r\n    if (!selectedMember) return null;\r\n    \r\n    const maxAmount = LoanService.getMaxLoanAmount(selectedMember.berry_score);\r\n    const interestRate = LoanService.getInterestRate(newLoanRequest.amount);\r\n    const totalToRepay = LoanService.calculateTotalToRepay(newLoanRequest.amount, interestRate);\r\n    \r\n    let error = '';\r\n    if (newLoanRequest.amount > maxAmount) {\r\n      error = `Le montant dépasse votre plafond de prêt de ${maxAmount.toLocaleString()} XAF.`;\r\n    }\r\n    \r\n    return { maxAmount, interestRate, totalToRepay, error };\r\n  }, [newLoanRequest.amount, selectedMember]);\r\n\r\n  const repaymentCalculations = useMemo(() => {\r\n    if (!selectedLoanForRepayment) return null;\r\n    \r\n    const loan = selectedLoanForRepayment;\r\n    const amount = newRepayment.amount;\r\n    \r\n    if (amount <= 0) return null;\r\n    \r\n    let capitalAmount = 0;\r\n    let interestAmount = 0;\r\n    let error = '';\r\n    \r\n    if (amount > loan.remaining_balance) {\r\n      error = `Le montant dépasse le solde restant (${(loan.remaining_balance ?? 0).toLocaleString()} XAF)`;\r\n    } else if (newRepayment.payment_type === 'interest_only') {\r\n      if (amount > loan.remaining_interest) {\r\n        error = `Le montant dépasse les intérêts restants (${(loan.remaining_interest ?? 0).toLocaleString()} XAF)`;\r\n      } else {\r\n        interestAmount = amount;\r\n        capitalAmount = 0;\r\n      }\r\n    } else {\r\n      // Remboursement partiel ou complet\r\n      if (amount <= loan.remaining_interest) {\r\n        interestAmount = amount;\r\n        capitalAmount = 0;\r\n      } else {\r\n        interestAmount = loan.remaining_interest;\r\n        capitalAmount = amount - loan.remaining_interest;\r\n        \r\n        // Vérifier le minimum de 10% du capital pour les remboursements de capital\r\n        if (capitalAmount > 0 && capitalAmount < loan.minimum_monthly_payment && loan.remaining_capital > loan.minimum_monthly_payment) {\r\n          error = `Le remboursement de capital doit être d'au moins ${(loan.minimum_monthly_payment ?? 0).toLocaleString()} XAF (10% du capital restant)`;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return { capitalAmount, interestAmount, error };\r\n  }, [newRepayment.amount, newRepayment.payment_type, selectedLoanForRepayment]);\r\n\r\n  const loanStats = useMemo(() => ({\r\n    pendingCount: loans.filter(l => l.status === 'pending').length,\r\n    activeLoanAmount: loans.filter(l => l.status === 'approved').reduce((sum, l) => sum + (l.remaining_balance ?? 0), 0),\r\n    repaidAmount: loans.reduce((sum, l) => sum + (l.total_repaid ?? 0), 0),\r\n  }), [loans]);\r\n  \r\n  // --- FONCTIONS API ---\r\n  const fetchLoans = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await fetch(`${API_BASE_URL}/loan-requests/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user?.token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Erreur HTTP: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setLoans(data);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Erreur lors du chargement des prêts');\r\n      console.error('Erreur lors du chargement des prêts:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchRepayments = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/loan-repayments/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user?.token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Erreur HTTP: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setRepayments(data);\r\n    } catch (err) {\r\n      console.error('Erreur lors du chargement des remboursements:', err);\r\n    }\r\n  };\r\n\r\n  const fetchMembers = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/members/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${user?.token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Erreur HTTP: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setMembers(data);\r\n    } catch (err) {\r\n      console.error('Erreur lors du chargement des membres:', err);\r\n    }\r\n  };\r\n\r\n  // Charger les données au montage du composant\r\n  useEffect(() => {\r\n    if (user?.token) {\r\n      fetchLoans();\r\n      fetchRepayments();\r\n      fetchMembers();\r\n    }\r\n  }, [user?.token]);\r\n\r\n  const { width } = useWindowSize();\r\n  const isMobile = width < MOBILE_BREAKPOINT;\r\n\r\n  // --- VÉRIFICATION DES PERMISSIONS ---\r\n  if (!hasPermission('view_loans')) {\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.errorContainer}>\r\n          <h3>Accès refusé</h3>\r\n          <p>Vous n'avez pas la permission de consulter les prêts.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- GESTIONNAIRES D'ÉVÉNEMENTS PRÊTS ---\r\n  const handleOpenLoanModal = () => {\r\n    if (!hasPermission('add_loan_requests')) {\r\n      alert(\"Vous n'avez pas la permission de faire une demande de prêt.\");\r\n      return;\r\n    }\r\n\r\n    const currentMember = members.find(m => m.user.id === parseInt(user?.id || '0'));\r\n    setNewLoanRequest({\r\n      ...initialLoanFormState,\r\n      member: currentMember?.id || 0\r\n    });\r\n    setGuarantor1Id(0);\r\n    setGuarantor2Id(0);\r\n    setFormError('');\r\n    setIsLoanModalOpen(true);\r\n  };\r\n\r\n  const handleStatusUpdate = async (id: number, status: 'approved' | 'rejected') => {\r\n    if (!hasPermission('approve_loans')) {\r\n      alert(\"Vous n'avez pas la permission d'approuver des prêts.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/loan-requests/${id}/`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Authorization': `Bearer ${user?.token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ status }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Erreur lors de la mise à jour du statut');\r\n      }\r\n\r\n      await fetchLoans();\r\n      alert(`Prêt ${status === 'approved' ? 'approuvé' : 'rejeté'} avec succès`);\r\n      \r\n    } catch (err) {\r\n      console.error('Erreur lors de la mise à jour:', err);\r\n      alert('Erreur lors de la mise à jour du statut');\r\n    }\r\n  };\r\n\r\n  const handleSaveLoanRequest = async () => {\r\n    if (!selectedMember || !loanDetails || !newLoanRequest.justification || !guarantor1Id || !guarantor2Id) {\r\n      setFormError(\"Veuillez remplir tous les champs.\");\r\n      return;\r\n    }\r\n    \r\n    if (loanDetails.error) {\r\n      setFormError(loanDetails.error);\r\n      return;\r\n    }\r\n    \r\n    if (guarantor1Id === guarantor2Id || guarantor1Id === selectedMember.id || guarantor2Id === selectedMember.id) {\r\n      setFormError(\"Veuillez choisir deux avaliseurs distincts et différents de vous-même.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setFormError('');\r\n\r\n    try {\r\n      const loanData = {\r\n        member: newLoanRequest.member,\r\n        amount: newLoanRequest.amount,\r\n        justification: newLoanRequest.justification,\r\n        guarantors: [guarantor1Id, guarantor2Id],\r\n        interest_rate: loanDetails.interestRate\r\n      };\r\n\r\n      const response = await fetch(`${API_BASE_URL}/loan-requests/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user?.token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(loanData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Erreur lors de la création de la demande');\r\n      }\r\n\r\n      await fetchLoans();\r\n      setIsLoanModalOpen(false);\r\n      alert('Demande de prêt soumise avec succès !');\r\n      \r\n    } catch (err) {\r\n      setFormError(err instanceof Error ? err.message : 'Erreur lors de la création');\r\n      console.error('Erreur lors de la création:', err);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // --- GESTIONNAIRES D'ÉVÉNEMENTS REMBOURSEMENTS ---\r\n  const handleOpenRepaymentModal = (loan: ApiLoanRequest) => {\r\n    if (!hasPermission('add_repayments') && !hasPermission('manage_loans')) {\r\n      alert(\"Vous n'avez pas la permission d'effectuer des remboursements.\");\r\n      return;\r\n    }\r\n\r\n    if (loan.status !== 'approved') {\r\n      alert(\"Seuls les prêts approuvés peuvent faire l'objet de remboursements.\");\r\n      return;\r\n    }\r\n\r\n    setSelectedLoanForRepayment(loan);\r\n    setNewRepayment({\r\n      ...initialRepaymentFormState,\r\n      loan_request: loan.id,\r\n      amount: loan.minimum_monthly_payment ?? 0\r\n    });\r\n    setFormError('');\r\n    setIsRepaymentModalOpen(true);\r\n  };\r\n\r\n  const handleSaveRepayment = async () => {\r\n    if (!selectedLoanForRepayment || !repaymentCalculations || repaymentCalculations.error) {\r\n      setFormError(repaymentCalculations?.error || \"Veuillez vérifier les données saisies.\");\r\n      return;\r\n    }\r\n\r\n    if (newRepayment.amount <= 0) {\r\n      setFormError(\"Le montant doit être positif.\");\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setFormError('');\r\n\r\n    try {\r\n      const repaymentData = {\r\n        loan_request: newRepayment.loan_request,\r\n        amount: newRepayment.amount,\r\n        payment_type: newRepayment.payment_type,\r\n        notes: newRepayment.notes,\r\n        capital_amount: repaymentCalculations.capitalAmount,\r\n        interest_amount: repaymentCalculations.interestAmount\r\n      };\r\n\r\n      const response = await fetch(`${API_BASE_URL}/loan-repayments/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${user?.token}`,\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(repaymentData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Erreur lors de la création du remboursement');\r\n      }\r\n\r\n      await fetchLoans();\r\n      await fetchRepayments();\r\n      setIsRepaymentModalOpen(false);\r\n      alert('Remboursement effectué avec succès !');\r\n      \r\n    } catch (err) {\r\n      setFormError(err instanceof Error ? err.message : 'Erreur lors du remboursement');\r\n      console.error('Erreur lors du remboursement:', err);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const getMemberName = (memberId: number) => {\r\n    const member = members.find(m => m.id === memberId);\r\n    return member ? `${member.user.first_name} ${member.user.last_name}` : 'Membre inconnu';\r\n  };\r\n\r\n  const getGuarantorNames = (guarantorIds: number[]) => {\r\n    return guarantorIds.map(id => getMemberName(id)).join(', ');\r\n  };\r\n\r\n  // --- PERMISSIONS D'AFFICHAGE ---\r\n  const canViewStats = hasPermission('view_reports') || hasPermission('approve_loans');\r\n  const canAddLoans = hasPermission('add_loan_requests');\r\n  const canApproveLoans = hasPermission('approve_loans');\r\n  const canAddRepayments = hasPermission('add_repayments') || hasPermission('manage_loans');\r\n\r\n  // --- AFFICHAGE DE L'ERREUR ---\r\n  if (error && !loading) {\r\n    return (\r\n      <div style={styles.page}>\r\n        <div style={styles.errorContainer}>\r\n          <h3>Erreur de chargement</h3>\r\n          <p>{error}</p>\r\n          <button onClick={fetchLoans} style={styles.button}>\r\n            Réessayer\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- RENDU PRINCIPAL ---\r\n  return (\r\n    <div style={styles.page}>\r\n      <header style={styles.header}>\r\n        <h2 style={styles.headerTitle}>\r\n          Gestion des Prêts & Remboursements\r\n          {loading && <span style={styles.loadingText}> (Chargement...)</span>}\r\n        </h2>\r\n        <button onClick={() => navigate('/')} style={{...styles.button, backgroundColor: '#6b7280'}}>\r\n          ← Retour\r\n        </button>\r\n      </header>\r\n      \r\n      {canViewStats && (\r\n        <section style={styles.statSection}>\r\n          <StatCard title=\"Solde des Prêts Actifs\" value={`${(loanStats.activeLoanAmount ?? 0).toLocaleString()} XAF`} />\r\n          <StatCard title=\"Demandes en Attente\" value={loanStats.pendingCount} />\r\n          <StatCard title=\"Total Remboursé\" value={`${(loanStats.repaidAmount ?? 0).toLocaleString()} XAF`} />\r\n        </section>\r\n      )}\r\n\r\n      {/* Onglets */}\r\n      <section style={styles.tabSection}>\r\n        <button \r\n          onClick={() => setActiveTab('loans')} \r\n          style={{\r\n            ...styles.tabButton, \r\n            ...(activeTab === 'loans' ? styles.activeTab : styles.inactiveTab)\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faMoneyBillWave} style={{ marginRight: '8px' }} />\r\n          Prêts\r\n        </button>\r\n        <button \r\n          onClick={() => setActiveTab('repayments')} \r\n          style={{\r\n            ...styles.tabButton, \r\n            ...(activeTab === 'repayments' ? styles.activeTab : styles.inactiveTab)\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faHistory} style={{ marginRight: '8px' }} />\r\n          Remboursements\r\n        </button>\r\n      </section>\r\n\r\n      {/* Contenu des onglets */}\r\n      {activeTab === 'loans' ? (\r\n        <>\r\n          <section style={styles.controlsSection}>\r\n            {canAddLoans && (\r\n              <button onClick={handleOpenLoanModal} style={styles.button}>\r\n                <FontAwesomeIcon icon={faPlus} style={{ marginRight: '8px' }} />\r\n                Faire une Demande de Prêt\r\n              </button>\r\n            )}\r\n          </section>\r\n\r\n          {loading ? (\r\n            <div style={styles.loadingContainer}>\r\n              <p>Chargement des prêts...</p>\r\n            </div>\r\n          ) : loans.length === 0 ? (\r\n            <div style={styles.emptyState}>\r\n              <p>Aucune demande de prêt trouvée.</p>\r\n              {canAddLoans && <p>Commencez par faire votre première demande !</p>}\r\n            </div>\r\n          ) : (\r\n            isMobile ? (\r\n              <MobileLoanList \r\n                loans={loans} \r\n                members={members}\r\n                hasPermission={hasPermission} \r\n                onStatusUpdate={handleStatusUpdate} \r\n                onRepayment={handleOpenRepaymentModal}\r\n                getMemberName={getMemberName}\r\n                getGuarantorNames={getGuarantorNames}\r\n                canAddRepayments={canAddRepayments}\r\n              />\r\n            ) : (\r\n              <DesktopLoanTable \r\n                loans={loans} \r\n                members={members}\r\n                hasPermission={hasPermission} \r\n                onStatusUpdate={handleStatusUpdate} \r\n                onRepayment={handleOpenRepaymentModal}\r\n                getMemberName={getMemberName}\r\n                getGuarantorNames={getGuarantorNames}\r\n                canAddRepayments={canAddRepayments}\r\n              />\r\n            )\r\n          )}\r\n        </>\r\n      ) : (\r\n        <RepaymentSection \r\n          repayments={repayments}\r\n          loading={loading}\r\n          isMobile={isMobile}\r\n        />\r\n      )}\r\n\r\n      {/* Informations sur les permissions */}\r\n      {!canAddLoans && !canAddRepayments && (\r\n        <div style={styles.permissionInfo}>\r\n          <p>\r\n            <strong>Information :</strong> Vous pouvez consulter les prêts et remboursements mais pas en effectuer. \r\n            Contactez le Comité de Gestion pour plus d'informations.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal Demande de Prêt */}\r\n      {isLoanModalOpen && (\r\n        <div style={styles.modalOverlay}>\r\n          <div style={styles.modalContent}>\r\n            <h3 style={styles.modalTitle}>Nouvelle Demande de Prêt</h3>\r\n            {formError && <p style={styles.formError}>{formError}</p>}\r\n            \r\n            <div style={styles.modalForm}>\r\n              {hasPermission('create_loan_for_others') ? (\r\n                <ModalSelect \r\n                  label=\"Membre demandeur\" \r\n                  value={newLoanRequest.member} \r\n                  onChange={(e: ChangeEvent<HTMLSelectElement>) => setNewLoanRequest({\r\n                    ...newLoanRequest, \r\n                    member: parseInt(e.target.value)\r\n                  })}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value={0} disabled>Sélectionner un membre...</option>\r\n                  {members.map(m => (\r\n                    <option key={m.id} value={m.id}>\r\n                      {m.user.first_name} {m.user.last_name} ({m.berry_score} pts Berry)\r\n                    </option>\r\n                  ))}\r\n                </ModalSelect>\r\n              ) : (\r\n                <div>\r\n                  <label style={styles.modalLabel}>Membre demandeur</label>\r\n                  <div style={styles.disabledInput}>\r\n                    {selectedMember ? `${selectedMember.user.first_name} ${selectedMember.user.last_name}` : 'Membre Actuel'}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {selectedMember && (\r\n                <>\r\n                  <ModalInput \r\n                    label=\"Montant souhaité (XAF)\" \r\n                    type=\"number\" \r\n                    step=\"1000\" \r\n                    value={newLoanRequest.amount} \r\n                    onChange={(e: ChangeEvent<HTMLInputElement>) => setNewLoanRequest({\r\n                      ...newLoanRequest, \r\n                      amount: parseFloat(e.target.value) || 0\r\n                    })}\r\n                    disabled={isSubmitting}\r\n                  />\r\n                  \r\n                  {loanDetails && (\r\n                    <div style={styles.loanDetailsBox}>\r\n                      <p>Plafond de prêt: <strong>{(loanDetails.maxAmount ?? 0).toLocaleString()} XAF</strong></p>\r\n                      <p>Taux d'intérêt: <strong>{loanDetails.interestRate}%</strong></p>\r\n                      <p>Total à rembourser: <strong>{(loanDetails.totalToRepay ?? 0).toLocaleString()} XAF</strong></p>\r\n                      {loanDetails.error && <p style={{color: '#ef4444'}}>{loanDetails.error}</p>}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <ModalTextarea \r\n                    label=\"Motif de la demande (urgence avérée)\" \r\n                    value={newLoanRequest.justification} \r\n                    onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setNewLoanRequest({\r\n                      ...newLoanRequest, \r\n                      justification: e.target.value\r\n                    })}\r\n                    placeholder=\"Décrivez précisément la nature de votre urgence...\"\r\n                    disabled={isSubmitting}\r\n                  />\r\n                  \r\n                  <ModalSelect \r\n                    label=\"Avaliseur / Garant 1\" \r\n                    value={guarantor1Id} \r\n                    onChange={(e: ChangeEvent<HTMLSelectElement>) => setGuarantor1Id(parseInt(e.target.value))}\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <option value={0} disabled>Sélectionner...</option>\r\n                    {members.filter(m => m.id !== newLoanRequest.member).map(m => (\r\n                      <option key={m.id} value={m.id}>\r\n                        {m.user.first_name} {m.user.last_name}\r\n                      </option>\r\n                    ))}\r\n                  </ModalSelect>\r\n                  \r\n                  <ModalSelect \r\n                    label=\"Avaliseur / Garant 2\" \r\n                    value={guarantor2Id} \r\n                    onChange={(e: ChangeEvent<HTMLSelectElement>) => setGuarantor2Id(parseInt(e.target.value))}\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <option value={0} disabled>Sélectionner...</option>\r\n                    {members.filter(m => m.id !== newLoanRequest.member).map(m => (\r\n                      <option key={m.id} value={m.id}>\r\n                        {m.user.first_name} {m.user.last_name}\r\n                      </option>\r\n                    ))}\r\n                  </ModalSelect>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div style={styles.modalActions}>\r\n              <button \r\n                onClick={() => setIsLoanModalOpen(false)} \r\n                style={{...styles.button, backgroundColor: '#6b7280'}}\r\n                disabled={isSubmitting}\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button \r\n                onClick={handleSaveLoanRequest} \r\n                style={styles.button}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? 'Soumission...' : 'Soumettre la Demande'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal Remboursement */}\r\n      {isRepaymentModalOpen && selectedLoanForRepayment && (\r\n        <div style={styles.modalOverlay}>\r\n          <div style={styles.modalContent}>\r\n            <h3 style={styles.modalTitle}>Effectuer un Remboursement</h3>\r\n            {formError && <p style={styles.formError}>{formError}</p>}\r\n            \r\n            <div style={styles.modalForm}>\r\n              <div style={styles.loanInfoBox}>\r\n                <h4>Informations du Prêt #{selectedLoanForRepayment.id}</h4>\r\n                <p><strong>Emprunteur :</strong> {selectedLoanForRepayment.member_name}</p>\r\n                <p><strong>Montant initial :</strong> {(selectedLoanForRepayment.amount ?? 0).toLocaleString()} XAF</p>\r\n                <p><strong>Solde restant :</strong> {(selectedLoanForRepayment.remaining_balance ?? 0).toLocaleString()} XAF</p>\r\n                <p><strong>Capital restant :</strong> {(selectedLoanForRepayment.remaining_capital ?? 0).toLocaleString()} XAF</p>\r\n                <p><strong>Intérêts restants :</strong> {(selectedLoanForRepayment.remaining_interest ?? 0).toLocaleString()} XAF</p>\r\n                <p><strong>Paiement minimum :</strong> {(selectedLoanForRepayment.minimum_monthly_payment ?? 0).toLocaleString()} XAF</p>\r\n              </div>\r\n\r\n              <ModalSelect \r\n                label=\"Type de remboursement\" \r\n                value={newRepayment.payment_type} \r\n                onChange={(e: ChangeEvent<HTMLSelectElement>) => setNewRepayment({\r\n                  ...newRepayment, \r\n                  payment_type: e.target.value as 'partial' | 'interest_only' | 'full'\r\n                })}\r\n                disabled={isSubmitting}\r\n              >\r\n                <option value=\"partial\">Remboursement partiel</option>\r\n                <option value=\"interest_only\">Intérêts uniquement</option>\r\n                <option value=\"full\">Remboursement complet</option>\r\n              </ModalSelect>\r\n\r\n              <ModalInput \r\n                label=\"Montant à rembourser (XAF)\" \r\n                type=\"number\" \r\n                step=\"100\" \r\n                value={newRepayment.amount} \r\n                onChange={(e: ChangeEvent<HTMLInputElement>) => setNewRepayment({\r\n                  ...newRepayment, \r\n                  amount: parseFloat(e.target.value) || 0\r\n                })}\r\n                disabled={isSubmitting}\r\n              />\r\n\r\n              {repaymentCalculations && (\r\n                <div style={styles.calculationBox}>\r\n                  <h4><FontAwesomeIcon icon={faCalculator} /> Répartition du remboursement :</h4>\r\n                  <p><strong>Capital :</strong> {(repaymentCalculations.capitalAmount ?? 0).toLocaleString()} XAF</p>\r\n                  <p><strong>Intérêts :</strong> {(repaymentCalculations.interestAmount ?? 0).toLocaleString()} XAF</p>\r\n                  {repaymentCalculations.error && (\r\n                    <p style={{color: '#ef4444'}}>{repaymentCalculations.error}</p>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <ModalTextarea \r\n                label=\"Notes (optionnel)\" \r\n                value={newRepayment.notes} \r\n                onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setNewRepayment({\r\n                  ...newRepayment, \r\n                  notes: e.target.value\r\n                })}\r\n                placeholder=\"Notes sur ce remboursement...\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.modalActions}>\r\n              <button \r\n                onClick={() => setIsRepaymentModalOpen(false)} \r\n                style={{...styles.button, backgroundColor: '#6b7280'}}\r\n                disabled={isSubmitting}\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button \r\n                onClick={handleSaveRepayment} \r\n                style={styles.button}\r\n                disabled={isSubmitting || (repaymentCalculations?.error ? true : false)}\r\n              >\r\n                {isSubmitting ? 'Traitement...' : 'Effectuer le Remboursement'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- COMPOSANTS SPÉCIALISÉS ---\r\n\r\n// Section Remboursements\r\nconst RepaymentSection: React.FC<{\r\n  repayments: ApiLoanRepayment[];\r\n  loading: boolean;\r\n  isMobile: boolean;\r\n}> = ({ repayments, loading, isMobile }) => (\r\n  <div>\r\n    <h3 style={{marginBottom: '16px', color: '#1f2937'}}>Historique des Remboursements</h3>\r\n    \r\n    {loading ? (\r\n      <div style={styles.loadingContainer}>\r\n        <p>Chargement des remboursements...</p>\r\n      </div>\r\n    ) : repayments.length === 0 ? (\r\n      <div style={styles.emptyState}>\r\n        <p>Aucun remboursement enregistré.</p>\r\n      </div>\r\n    ) : isMobile ? (\r\n      <div style={{display: 'flex', flexDirection: 'column', gap: '16px'}}>\r\n        {repayments.map(repayment => (\r\n          <div key={repayment.id} style={styles.mobileCard}>\r\n            <div style={styles.mobileCardHeader}>\r\n              <span style={{fontWeight: 'bold'}}>\r\n                Prêt #{repayment.loan_request} - {repayment.loan_member_name}\r\n              </span>\r\n              <span style={{...styles.chip, backgroundColor: '#dcfce7', color: '#166534'}}>\r\n                {LoanService.getPaymentTypeDisplayName(repayment.payment_type)}\r\n              </span>\r\n            </div>\r\n            <div style={styles.mobileCardBody}>\r\n              <div style={styles.mobileCardRow}>\r\n                <span>Montant:</span> \r\n                <strong>{(repayment.amount ?? 0).toLocaleString()} XAF</strong>\r\n              </div>\r\n              <div style={styles.mobileCardRow}>\r\n                <span>Capital:</span> \r\n                <span>{(repayment.capital_amount ?? 0).toLocaleString()} XAF</span>\r\n              </div>\r\n              <div style={styles.mobileCardRow}>\r\n                <span>Intérêts:</span> \r\n                <span>{(repayment.interest_amount ?? 0).toLocaleString()} XAF</span>\r\n              </div>\r\n              <div style={styles.mobileCardRow}>\r\n                <span>Date:</span> \r\n                <span>{new Date(repayment.date).toLocaleDateString('fr-FR')}</span>\r\n              </div>\r\n              {repayment.processed_by_name && (\r\n                <div style={styles.mobileCardRow}>\r\n                  <span>Traité par:</span> \r\n                  <span>{repayment.processed_by_name}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    ) : (\r\n      <div style={styles.tableContainer}>\r\n        <table style={styles.table}>\r\n          <thead>\r\n            <tr>\r\n              <th style={styles.th}>Prêt</th>\r\n              <th style={styles.th}>Emprunteur</th>\r\n              <th style={styles.th}>Montant</th>\r\n              <th style={styles.th}>Capital</th>\r\n              <th style={styles.th}>Intérêts</th>\r\n              <th style={styles.th}>Type</th>\r\n              <th style={styles.th}>Date</th>\r\n              <th style={styles.th}>Traité par</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {repayments.map(repayment => (\r\n              <tr key={repayment.id}>\r\n                <td style={styles.td}>#{repayment.loan_request}</td>\r\n                <td style={styles.td}>{repayment.loan_member_name}</td>\r\n                <td style={styles.td}>{(repayment.amount ?? 0).toLocaleString()} XAF</td>\r\n                <td style={styles.td}>{(repayment.capital_amount ?? 0).toLocaleString()} XAF</td>\r\n                <td style={styles.td}>{(repayment.interest_amount ?? 0).toLocaleString()} XAF</td>\r\n                <td style={styles.td}>\r\n                  <span style={{...styles.chip, backgroundColor: '#dcfce7', color: '#166534'}}>\r\n                    {LoanService.getPaymentTypeDisplayName(repayment.payment_type)}\r\n                  </span>\r\n                </td>\r\n                <td style={styles.td}>{new Date(repayment.date).toLocaleDateString('fr-FR')}</td>\r\n                <td style={styles.td}>{repayment.processed_by_name || '-'}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n\r\n// --- VUES DESKTOP & MOBILE POUR LES PRÊTS ---\r\ninterface TableProps {\r\n  loans: ApiLoanRequest[];\r\n  members: ApiMember[];\r\n  hasPermission: any;\r\n  onStatusUpdate: (id: number, status: 'approved' | 'rejected') => void;\r\n  onRepayment: (loan: ApiLoanRequest) => void;\r\n  getMemberName: (id: number) => string;\r\n  getGuarantorNames: (ids: number[]) => string;\r\n  canAddRepayments: boolean;\r\n}\r\n\r\nconst DesktopLoanTable: React.FC<TableProps> = ({ \r\n  loans, \r\n  members, \r\n  hasPermission, \r\n  onStatusUpdate, \r\n  onRepayment,\r\n  getMemberName, \r\n  getGuarantorNames,\r\n  canAddRepayments\r\n}) => (\r\n  <div style={styles.tableContainer}>\r\n    <table style={styles.table}>\r\n      <thead>\r\n        <tr>\r\n          <th style={styles.th}>Membre</th>\r\n          <th style={styles.th}>Montant</th>\r\n          <th style={styles.th}>Solde</th>\r\n          <th style={styles.th}>Progression</th>\r\n          <th style={styles.th}>Statut</th>\r\n          <th style={styles.th}>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {loans.map(loan => {\r\n          const totalToRepay = loan.total_amount_with_interest ?? 0;\r\n          const totalRepaid = loan.total_repaid ?? 0;\r\n          const progressPercentage = totalToRepay > 0 ? ((totalRepaid / totalToRepay) * 100).toFixed(1) : \"0.0\";\r\n          \r\n          return (\r\n            <tr key={loan.id}>\r\n              <td style={styles.td}>{loan.member_name}</td>\r\n              <td style={styles.td}>{(loan.amount ?? 0).toLocaleString()} XAF</td>\r\n              <td style={styles.td}>\r\n                {loan.status === 'approved' ? (\r\n                  <div>\r\n                    <div>{(loan.remaining_balance ?? 0).toLocaleString()} XAF</div>\r\n                    <div style={{fontSize: '12px', color: '#6b7280'}}>\r\n                      sur {(totalToRepay).toLocaleString()} XAF\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  loan.status === 'repaid' ? '0 XAF' : '-'\r\n                )}\r\n              </td>\r\n              <td style={styles.td}>\r\n                {(loan.status === 'approved' || loan.status === 'repaid') && (\r\n                  <div style={{width: '100px'}}>\r\n                    <div style={{\r\n                      backgroundColor: '#e5e7eb',\r\n                      borderRadius: '4px',\r\n                      height: '8px',\r\n                      overflow: 'hidden'\r\n                    }}>\r\n                      <div style={{\r\n                        backgroundColor: loan.is_fully_repaid ? '#22c55e' : '#3b82f6',\r\n                        height: '100%',\r\n                        width: `${progressPercentage}%`,\r\n                        transition: 'width 0.3s ease'\r\n                      }} />\r\n                    </div>\r\n                    <div style={{fontSize: '12px', marginTop: '2px', textAlign: 'center'}}>\r\n                      {progressPercentage}%\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </td>\r\n              <td style={styles.td}>\r\n                <StatusChip status={LoanService.getStatusDisplayName(loan.status)} />\r\n              </td>\r\n              <td style={styles.td}>\r\n                <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\r\n                  {loan.status === 'pending' && hasPermission('approve_loans') && (\r\n                    <>\r\n                      <button \r\n                        onClick={() => onStatusUpdate(loan.id, 'approved')} \r\n                        style={{...styles.actionButton, backgroundColor: '#22c55e'}} \r\n                        title=\"Approuver\"\r\n                      >\r\n                        <FontAwesomeIcon icon={faCheck} />\r\n                      </button>\r\n                      <button \r\n                        onClick={() => onStatusUpdate(loan.id, 'rejected')} \r\n                        style={{...styles.actionButton, backgroundColor: '#ef4444'}} \r\n                        title=\"Rejeter\"\r\n                      >\r\n                        <FontAwesomeIcon icon={faTimes} />\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  {loan.status === 'approved' && !loan.is_fully_repaid && canAddRepayments && (\r\n                    <button \r\n                      onClick={() => onRepayment(loan)} \r\n                      style={{...styles.actionButton, backgroundColor: '#3b82f6'}} \r\n                      title=\"Rembourser\"\r\n                    >\r\n                      <FontAwesomeIcon icon={faMoneyBillWave} />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          );\r\n        })}\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n);\r\n\r\nconst MobileLoanList: React.FC<TableProps> = ({ \r\n  loans, \r\n  members, \r\n  hasPermission, \r\n  onStatusUpdate, \r\n  onRepayment,\r\n  getMemberName, \r\n  getGuarantorNames,\r\n  canAddRepayments\r\n}) => (\r\n  <div style={{display: 'flex', flexDirection: 'column', gap: '16px'}}>\r\n    {loans.map(loan => {\r\n      const totalToRepay = loan.total_amount_with_interest ?? 0;\r\n      const totalRepaid = loan.total_repaid ?? 0;\r\n      const progressPercentage = totalToRepay > 0 ? ((totalRepaid / totalToRepay) * 100).toFixed(1) : \"0.0\";\r\n      \r\n      return (\r\n        <div key={loan.id} style={styles.mobileCard}>\r\n          <div style={styles.mobileCardHeader}>\r\n            <span style={{fontWeight: 'bold', color: '#1f2937'}}>\r\n              {loan.member_name}\r\n            </span>\r\n            <StatusChip status={LoanService.getStatusDisplayName(loan.status)} />\r\n          </div>\r\n          <div style={styles.mobileCardBody}>\r\n            <div style={styles.mobileCardRow}>\r\n              <span>Montant initial:</span> \r\n              <strong>{(loan.amount ?? 0).toLocaleString()} XAF</strong>\r\n            </div>\r\n            {(loan.status === 'approved' || loan.status === 'repaid') && (\r\n              <>\r\n                <div style={styles.mobileCardRow}>\r\n                  <span>Solde restant:</span> \r\n                  <strong style={{color: loan.is_fully_repaid ? '#22c55e' : '#ef4444'}}>\r\n                    {(loan.remaining_balance ?? 0).toLocaleString()} XAF\r\n                  </strong>\r\n                </div>\r\n                <div style={styles.mobileCardRow}>\r\n                  <span>Progression:</span> \r\n                  <span>{progressPercentage}% remboursé</span>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n          \r\n          <div style={styles.mobileCardFooter}>\r\n            {loan.status === 'pending' && hasPermission('approve_loans') && (\r\n              <>\r\n                <button \r\n                  onClick={() => onStatusUpdate(loan.id, 'approved')} \r\n                  style={{...styles.button, flex: 1, backgroundColor: '#22c55e'}}\r\n                >\r\n                  <FontAwesomeIcon icon={faCheck} style={{marginRight: '8px'}}/> \r\n                  Approuver\r\n                </button>\r\n                <button \r\n                  onClick={() => onStatusUpdate(loan.id, 'rejected')} \r\n                  style={{...styles.button, flex: 1, backgroundColor: '#ef4444'}}\r\n                >\r\n                  <FontAwesomeIcon icon={faTimes} style={{marginRight: '8px'}}/> \r\n                  Rejeter\r\n                </button>\r\n              </>\r\n            )}\r\n            {loan.status === 'approved' && !loan.is_fully_repaid && canAddRepayments && (\r\n              <button \r\n                onClick={() => onRepayment(loan)} \r\n                style={{...styles.button, flex: 1, backgroundColor: '#3b82f6'}}\r\n              >\r\n                <FontAwesomeIcon icon={faMoneyBillWave} style={{marginRight: '8px'}}/> \r\n                Rembourser\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    })}\r\n  </div>\r\n);\r\n\r\n// --- SOUS-COMPOSANTS & STYLES ---\r\nconst StatCard: React.FC<{ title: string; value: string | number }> = ({ title, value }) => (\r\n  <div style={{...styles.card, flex: '1 1 250px', textAlign: 'center' }}>\r\n    <h4 style={styles.statTitle}>{title}</h4>\r\n    <p style={styles.statValue}>{value}</p>\r\n  </div>\r\n);\r\n\r\nconst StatusChip: React.FC<{ status: string }> = ({ status }) => { \r\n  const statusColors: { [key: string]: { backgroundColor: string; color: string } } = {\r\n    'En attente': { backgroundColor: '#fef3c7', color: '#92400e' },\r\n    'Approuvé': { backgroundColor: '#dcfce7', color: '#166534' },\r\n    'Rejeté': { backgroundColor: '#fee2e2', color: '#991b1b' },\r\n    'Remboursé': { backgroundColor: '#e0e7ff', color: '#3730a3' }\r\n  };\r\n  \r\n  return (\r\n    <span style={{ ...styles.chip, ...statusColors[status] }}>\r\n      {status}\r\n    </span>\r\n  ); \r\n};\r\n\r\ninterface ModalInputProps extends InputHTMLAttributes<HTMLInputElement> { \r\n  label: string; \r\n}\r\nconst ModalInput: React.FC<ModalInputProps> = ({ label, ...props }) => (\r\n  <div>\r\n    <label style={styles.modalLabel}>{label}</label>\r\n    <input style={styles.modalInput} {...props} />\r\n  </div>\r\n);\r\n\r\ninterface ModalSelectProps extends SelectHTMLAttributes<HTMLSelectElement> { \r\n  label: string; \r\n  children: ReactNode; \r\n}\r\nconst ModalSelect: React.FC<ModalSelectProps> = ({ label, children, ...props }) => (\r\n  <div>\r\n    <label style={styles.modalLabel}>{label}</label>\r\n    <select style={styles.modalInput} {...props}>{children}</select>\r\n  </div>\r\n);\r\n\r\ninterface ModalTextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> { \r\n  label: string; \r\n}\r\nconst ModalTextarea: React.FC<ModalTextareaProps> = ({ label, ...props }) => (\r\n  <div>\r\n    <label style={styles.modalLabel}>{label}</label>\r\n    <textarea style={{...styles.modalInput, height: '80px'}} {...props} />\r\n  </div>\r\n);\r\n\r\nconst styles: { [key: string]: React.CSSProperties } = {\r\n  page: { fontFamily: 'Arial, sans-serif', padding: '16px', backgroundColor: '#f3f4f6', minHeight: '100vh' },\r\n  header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px', flexWrap: 'wrap', gap: '16px' },\r\n  headerTitle: { fontSize: '24px', fontWeight: 'bold', color: '#1f2937', margin: 0 },\r\n  loadingText: { fontSize: '16px', fontWeight: 'normal', color: '#6b7280' },\r\n  errorContainer: { textAlign: 'center', padding: '40px', backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)' },\r\n  loadingContainer: { textAlign: 'center', padding: '40px' },\r\n  emptyState: { textAlign: 'center', padding: '40px', backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)' },\r\n  statSection: { display: 'flex', gap: '16px', flexWrap: 'wrap', marginBottom: '24px' },\r\n  card: { backgroundColor: 'white', padding: '16px', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)' },\r\n  statTitle: { margin: 0, color: '#4b5563', fontSize: '14px', fontWeight: '600' },\r\n  statValue: { margin: '8px 0 0 0', color: '#1e3a8a', fontSize: '22px', fontWeight: 'bold' },\r\n  \r\n  // Styles des onglets\r\n  tabSection: { display: 'flex', marginBottom: '24px', backgroundColor: 'white', borderRadius: '12px', overflow: 'hidden', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)' },\r\n  tabButton: { flex: 1, padding: '12px 24px', border: 'none', fontSize: '14px', fontWeight: '600', cursor: 'pointer', transition: 'all 0.2s', display: 'flex', alignItems: 'center', justifyContent: 'center' },\r\n  activeTab: { backgroundColor: '#3b82f6', color: 'white' },\r\n  inactiveTab: { backgroundColor: 'white', color: '#6b7280' },\r\n  \r\n  controlsSection: { marginBottom: '24px' },\r\n  button: { padding: '10px 16px', backgroundColor: '#2563eb', color: 'white', border: 'none', borderRadius: '8px', cursor: 'pointer', fontWeight: '600', display: 'flex', alignItems: 'center', justifyContent: 'center', transition: 'background-color 0.2s', fontSize: '14px' },\r\n  permissionInfo: { backgroundColor: '#e0f2fe', padding: '12px', borderRadius: '8px', marginTop: '16px', border: '1px solid #0891b2' },\r\n  tableContainer: { backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)', overflowX: 'auto' },\r\n  table: { width: '100%', borderCollapse: 'collapse' },\r\n  th: { padding: '12px 16px', textAlign: 'left', fontSize: '14px', color: '#4b5563', backgroundColor: '#f9fafb', borderBottom: '1px solid #e5e7eb', fontWeight: '600' },\r\n  td: { padding: '12px 16px', fontSize: '14px', color: '#374151', borderBottom: '1px solid #e5e7eb', verticalAlign: 'middle' },\r\n  chip: { padding: '4px 12px', borderRadius: '9999px', fontWeight: '600', fontSize: '12px' },\r\n  actionButton: { padding: '8px 12px', border: 'none', borderRadius: '6px', color: 'white', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '14px', fontWeight: 'bold' },\r\n  \r\n  // Styles des modals\r\n  modalOverlay: { position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0, 0, 0, 0.6)', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000, padding: '16px' },\r\n  modalContent: { backgroundColor: 'white', padding: '24px', borderRadius: '12px', width: '100%', maxWidth: '600px', boxShadow: '0 8px 16px rgba(0, 0, 0, 0.2)', maxHeight: '90vh', display: 'flex', flexDirection: 'column' },\r\n  modalTitle: { fontSize: '22px', fontWeight: 'bold', marginBottom: '24px', color: '#1f2937', flexShrink: 0, textAlign: 'center' },\r\n  modalForm: { flexGrow: 1, overflowY: 'auto', paddingRight: '12px', marginRight: '-12px', display: 'flex', flexDirection: 'column', gap: '16px' },\r\n  modalLabel: { display: 'block', marginBottom: '8px', fontWeight: '600', color: '#374151', fontSize: '14px' },\r\n  modalInput: { width: '100%', padding: '10px', border: '1px solid #d1d5db', borderRadius: '8px', boxSizing: 'border-box', fontSize: '16px' },\r\n  disabledInput: { width: '100%', padding: '10px', border: '1px solid #e5e7eb', backgroundColor: '#f9fafb', color: '#6b7280', borderRadius: '8px', boxSizing: 'border-box', fontSize: '16px' },\r\n  modalActions: { display: 'flex', justifyContent: 'flex-end', gap: '12px', marginTop: '24px', flexShrink: 0 },\r\n  formError: { color: '#ef4444', backgroundColor: '#fee2e2', padding: '10px', borderRadius: '8px', textAlign: 'center', marginBottom: '16px' },\r\n  \r\n  // Styles spécifiques aux remboursements\r\n  loanDetailsBox: { backgroundColor: '#f3f4f6', padding: '12px', borderRadius: '8px', fontSize: '14px', lineHeight: 1.6, borderLeft: '4px solid #3b82f6'},\r\n  loanInfoBox: { backgroundColor: '#f0f9ff', padding: '16px', borderRadius: '8px', fontSize: '14px', lineHeight: 1.6, borderLeft: '4px solid #0ea5e9' },\r\n  calculationBox: { backgroundColor: '#f0fdf4', padding: '12px', borderRadius: '8px', fontSize: '14px', lineHeight: 1.6, borderLeft: '4px solid #22c55e' },\r\n  \r\n  // Styles mobile\r\n  mobileCard: { backgroundColor: 'white', borderRadius: '12px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)', overflow: 'hidden'},\r\n  mobileCardHeader: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '12px 16px', backgroundColor: '#f9fafb', borderBottom: '1px solid #e5e7eb'},\r\n  mobileCardBody: { padding: '16px', display: 'flex', flexDirection: 'column', gap: '10px' },\r\n  mobileCardRow: { display: 'flex', justifyContent: 'space-between', fontSize: '14px' },\r\n  mobileCardFooter: { padding: '12px 16px', backgroundColor: '#f9fafb', borderTop: '1px solid #e5e7eb', display: 'flex', gap: '12px' },\r\n};\r\n\r\nexport default Loans;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}