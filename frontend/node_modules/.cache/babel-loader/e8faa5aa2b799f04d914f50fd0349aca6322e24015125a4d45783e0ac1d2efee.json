{"ast":null,"code":"import React,{createContext,useState,useContext,useEffect}from'react';// Rôles basés sur la charte Friendly Banks\nimport{jsx as _jsx}from\"react/jsx-runtime\";// Configuration de l'URL de base de l'API\nconst API_BASE_URL='http://172.30.240.1:8000/api';// === SYSTÈME DE PERMISSIONS BASÉ SUR LA CHARTE FRIENDLY BANKS ===\nconst rolePermissions={// PRÉSIDENT - Coordonne tout le projet (Article 3.5)\npresident:[// Gestion complète des membres\n'view_members','manage_members','create_members','edit_members','delete_members',// Gestion complète des contributions \n'view_contributions','manage_contributions','add_contributions','edit_contributions',// Gestion complète des prêts (Comité de Gestion - Article 4)\n'view_loans','manage_loans','approve_loans','reject_loans','edit_loans',// Sanctions et exclusions (Article 6)\n'view_sanctions','manage_sanctions','apply_sanctions','exclude_members',// Gouvernance complète (Article 5.4)\n'view_governance','manage_governance','organize_sessions','modify_charter',// Rapports et transparence (Article 3.4)\n'view_reports','generate_reports','view_all_transactions',// Administration système\n'manage_system','export_data','view_logs',// Berry points et calculs\n'manage_berry_points','view_berry_calculations'],// CENSEUR - Co-préside + Audit (Article 3.5 + Article 5.4)\ncenseur:[// Gestion des membres (consultation et modification limitée)\n'view_members','manage_members','edit_members',// Gestion des contributions (consultation et audit)\n'view_contributions','manage_contributions','add_contributions',// Gestion des prêts (approbation dans le comité)\n'view_loans','manage_loans','approve_loans','reject_loans',// Sanctions (participe aux décisions disciplinaires)\n'view_sanctions','manage_sanctions','apply_sanctions',// Gouvernance (co-préside le comité exécutif)\n'view_governance','manage_governance','organize_sessions',// Audit et transparence\n'view_reports','generate_reports','view_all_transactions',// Berry points\n'view_berry_calculations',// Export pour audit\n'export_data'],// TRÉSORIER - Gère le compte commun (Article 3.2)\ntreasurer:[// Consultation des membres\n'view_members',// Gestion complète des contributions (responsabilité principale)\n'view_contributions','manage_contributions','add_contributions','edit_contributions',// Consultation des prêts (suivi financier)\n'view_loans','track_loan_repayments',// Pas de sanctions directes\n'view_sanctions',// Transparence financière (Article 3.4)\n'view_governance','generate_financial_reports',// Rapports financiers mensuels\n'view_reports','generate_reports','view_financial_transactions',// Berry points (calculs financiers)\n'view_berry_calculations',// Export financier\n'export_financial_data'],// SÉCRÉCOM - Secrétariat et communications\nsecrecom:[// Gestion administrative des membres\n'view_members','manage_members','edit_members',// Consultation des contributions\n'view_contributions','add_contributions',// Consultation des prêts\n'view_loans',// Gestion des sanctions (secrétariat)\n'view_sanctions',// Gouvernance (organisation des réunions - Article 3.6-3.7)\n'view_governance','manage_governance','organize_meetings',// Rapports (secrétariat)\n'view_reports','generate_meeting_reports',// Communications\n'manage_communications','send_notifications'],// COMPTABLE - Aide à la comptabilité\naccountant:[// Consultation des membres\n'view_members',// Gestion des contributions (aide comptable)\n'view_contributions','manage_contributions','add_contributions',// Consultation des prêts (analyse financière)\n'view_loans','view_loan_details',// Consultation des sanctions\n'view_sanctions',// Consultation de la gouvernance\n'view_governance',// Rapports comptables\n'view_reports','generate_accounting_reports',// Berry points (calculs)\n'view_berry_calculations',// Export comptable\n'export_accounting_data'],// MEMBRE - Participe aux décisions + Cotisations + Emprunts\nmember:[// Consultation des membres (transparence)\n'view_members',// Ses propres contributions\n'view_contributions','add_own_contributions','view_own_contributions',// Demandes de prêts (Article 4)\n'view_loans','request_loans','view_own_loans',// Consultation des sanctions\n'view_sanctions',// Participation à la gouvernance (Article 5.5-5.6)\n'view_governance','participate_in_votes',// Consultation des rapports mensuels\n'view_reports','view_monthly_reports',// Ses propres Berry points\n'view_own_berry_points',// Profil personnel\n'manage_own_profile'],// INVITÉ - Accès très limité\nguest:[// Consultation limitée\n'view_basic_info',// Profil personnel seulement\n'manage_own_profile'],// ADMIN - Accès technique complet (séparé de la gouvernance métier)\nadmin:['manage_all','system_admin','technical_maintenance']};// Noms d'affichage des rôles en français\nconst roleDisplayNames={president:'Président',treasurer:'Trésorier',secrecom:'Sécrécom',censeur:'Censeur',accountant:'Comptable',member:'Membre',guest:'Invité',admin:'Administrateur'};const AuthContext=/*#__PURE__*/createContext(undefined);export const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);useEffect(()=>{// Load user from localStorage if exists\nconst storedUser=localStorage.getItem('friendlybanks_user');if(storedUser){setUser(JSON.parse(storedUser));}},[]);const login=async(username,password)=>{try{// Call backend token endpoint\nconst response=await fetch(`${API_BASE_URL}/token/`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});if(!response.ok){return false;}const data=await response.json();const accessToken=data.access;const refreshToken=data.refresh;// Fetch user info using access token\nconst userResponse=await fetch(`${API_BASE_URL}/users/`,{headers:{'Authorization':`Bearer ${accessToken}`}});if(!userResponse.ok){return false;}const users=await userResponse.json();// Find user info by username\nconst userInfo=users.find(u=>u.username===username);if(!userInfo){return false;}const loggedInUser={id:userInfo.id||userInfo.username,username:userInfo.username,role:userInfo.role,// Utiliser le rôle directement du backend\ntoken:accessToken};localStorage.setItem('friendlybanks_user',JSON.stringify(loggedInUser));localStorage.setItem('friendlybanks_refresh',refreshToken);setUser(loggedInUser);return true;}catch(error){console.error('Login error:',error);return false;}};const logout=()=>{setUser(null);localStorage.removeItem('friendlybanks_user');localStorage.removeItem('friendlybanks_refresh');};const hasPermission=permission=>{if(!user)return false;// L'admin technique a tous les droits\nif(user.role==='admin')return true;// Le président a tous les droits métier\nif(user.role==='president'){return rolePermissions.president.includes(permission)||permission!=='system_admin';}// Vérifier les permissions spécifiques du rôle\nconst permissions=rolePermissions[user.role]||[];return permissions.includes(permission);};const getRoleDisplayName=role=>{return roleDisplayNames[role]||role;};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,login,logout,isAuthenticated:!!user,hasPermission,getRoleDisplayName},children:children});};export const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","jsx","_jsx","API_BASE_URL","rolePermissions","president","censeur","treasurer","secrecom","accountant","member","guest","admin","roleDisplayNames","AuthContext","undefined","AuthProvider","_ref","children","user","setUser","storedUser","localStorage","getItem","JSON","parse","login","username","password","response","fetch","method","headers","body","stringify","ok","data","json","accessToken","access","refreshToken","refresh","userResponse","users","userInfo","find","u","loggedInUser","id","role","token","setItem","error","console","logout","removeItem","hasPermission","permission","includes","permissions","getRoleDisplayName","Provider","value","isAuthenticated","useAuth","context","Error"],"sources":["D:/Projects/FriendlyBanks/frontend/src/context/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useState, useContext, ReactNode, useEffect } from 'react';\r\n\r\n// Rôles basés sur la charte Friendly Banks\r\nexport type Role = 'president' | 'treasurer' | 'secrecom' | 'censeur' | 'accountant' | 'member' | 'guest' | 'admin';\r\n\r\ninterface User {\r\n  id: string;\r\n  username: string;\r\n  role: Role;\r\n  token: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  login: (username: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  isAuthenticated: boolean;\r\n  hasPermission: (permission: string) => boolean;\r\n  getRoleDisplayName: (role: Role) => string;\r\n}\r\n\r\n// Configuration de l'URL de base de l'API\r\nconst API_BASE_URL = 'http://172.30.240.1:8000/api';\r\n\r\n// === SYSTÈME DE PERMISSIONS BASÉ SUR LA CHARTE FRIENDLY BANKS ===\r\nconst rolePermissions: Record<Role, string[]> = {\r\n  // PRÉSIDENT - Coordonne tout le projet (Article 3.5)\r\n  president: [\r\n    // Gestion complète des membres\r\n    'view_members', 'manage_members', 'create_members', 'edit_members', 'delete_members',\r\n    // Gestion complète des contributions \r\n    'view_contributions', 'manage_contributions', 'add_contributions', 'edit_contributions',\r\n    // Gestion complète des prêts (Comité de Gestion - Article 4)\r\n    'view_loans', 'manage_loans', 'approve_loans', 'reject_loans', 'edit_loans',\r\n    // Sanctions et exclusions (Article 6)\r\n    'view_sanctions', 'manage_sanctions', 'apply_sanctions', 'exclude_members',\r\n    // Gouvernance complète (Article 5.4)\r\n    'view_governance', 'manage_governance', 'organize_sessions', 'modify_charter',\r\n    // Rapports et transparence (Article 3.4)\r\n    'view_reports', 'generate_reports', 'view_all_transactions',\r\n    // Administration système\r\n    'manage_system', 'export_data', 'view_logs',\r\n    // Berry points et calculs\r\n    'manage_berry_points', 'view_berry_calculations'\r\n  ],\r\n\r\n  // CENSEUR - Co-préside + Audit (Article 3.5 + Article 5.4)\r\n  censeur: [\r\n    // Gestion des membres (consultation et modification limitée)\r\n    'view_members', 'manage_members', 'edit_members',\r\n    // Gestion des contributions (consultation et audit)\r\n    'view_contributions', 'manage_contributions', 'add_contributions',\r\n    // Gestion des prêts (approbation dans le comité)\r\n    'view_loans', 'manage_loans', 'approve_loans', 'reject_loans',\r\n    // Sanctions (participe aux décisions disciplinaires)\r\n    'view_sanctions', 'manage_sanctions', 'apply_sanctions',\r\n    // Gouvernance (co-préside le comité exécutif)\r\n    'view_governance', 'manage_governance', 'organize_sessions',\r\n    // Audit et transparence\r\n    'view_reports', 'generate_reports', 'view_all_transactions',\r\n    // Berry points\r\n    'view_berry_calculations',\r\n    // Export pour audit\r\n    'export_data'\r\n  ],\r\n\r\n  // TRÉSORIER - Gère le compte commun (Article 3.2)\r\n  treasurer: [\r\n    // Consultation des membres\r\n    'view_members',\r\n    // Gestion complète des contributions (responsabilité principale)\r\n    'view_contributions', 'manage_contributions', 'add_contributions', 'edit_contributions',\r\n    // Consultation des prêts (suivi financier)\r\n    'view_loans', 'track_loan_repayments',\r\n    // Pas de sanctions directes\r\n    'view_sanctions',\r\n    // Transparence financière (Article 3.4)\r\n    'view_governance', 'generate_financial_reports',\r\n    // Rapports financiers mensuels\r\n    'view_reports', 'generate_reports', 'view_financial_transactions',\r\n    // Berry points (calculs financiers)\r\n    'view_berry_calculations',\r\n    // Export financier\r\n    'export_financial_data'\r\n  ],\r\n\r\n  // SÉCRÉCOM - Secrétariat et communications\r\n  secrecom: [\r\n    // Gestion administrative des membres\r\n    'view_members', 'manage_members', 'edit_members',\r\n    // Consultation des contributions\r\n    'view_contributions', 'add_contributions',\r\n    // Consultation des prêts\r\n    'view_loans',\r\n    // Gestion des sanctions (secrétariat)\r\n    'view_sanctions',\r\n    // Gouvernance (organisation des réunions - Article 3.6-3.7)\r\n    'view_governance', 'manage_governance', 'organize_meetings',\r\n    // Rapports (secrétariat)\r\n    'view_reports', 'generate_meeting_reports',\r\n    // Communications\r\n    'manage_communications', 'send_notifications'\r\n  ],\r\n\r\n  // COMPTABLE - Aide à la comptabilité\r\n  accountant: [\r\n    // Consultation des membres\r\n    'view_members',\r\n    // Gestion des contributions (aide comptable)\r\n    'view_contributions', 'manage_contributions', 'add_contributions',\r\n    // Consultation des prêts (analyse financière)\r\n    'view_loans', 'view_loan_details',\r\n    // Consultation des sanctions\r\n    'view_sanctions',\r\n    // Consultation de la gouvernance\r\n    'view_governance',\r\n    // Rapports comptables\r\n    'view_reports', 'generate_accounting_reports',\r\n    // Berry points (calculs)\r\n    'view_berry_calculations',\r\n    // Export comptable\r\n    'export_accounting_data'\r\n  ],\r\n\r\n  // MEMBRE - Participe aux décisions + Cotisations + Emprunts\r\n  member: [\r\n    // Consultation des membres (transparence)\r\n    'view_members',\r\n    // Ses propres contributions\r\n    'view_contributions', 'add_own_contributions', 'view_own_contributions',\r\n    // Demandes de prêts (Article 4)\r\n    'view_loans', 'request_loans', 'view_own_loans',\r\n    // Consultation des sanctions\r\n    'view_sanctions',\r\n    // Participation à la gouvernance (Article 5.5-5.6)\r\n    'view_governance', 'participate_in_votes',\r\n    // Consultation des rapports mensuels\r\n    'view_reports', 'view_monthly_reports',\r\n    // Ses propres Berry points\r\n    'view_own_berry_points',\r\n    // Profil personnel\r\n    'manage_own_profile'\r\n  ],\r\n\r\n  // INVITÉ - Accès très limité\r\n  guest: [\r\n    // Consultation limitée\r\n    'view_basic_info',\r\n    // Profil personnel seulement\r\n    'manage_own_profile'\r\n  ],\r\n\r\n  // ADMIN - Accès technique complet (séparé de la gouvernance métier)\r\n  admin: [\r\n    'manage_all', 'system_admin', 'technical_maintenance'\r\n  ]\r\n};\r\n\r\n// Noms d'affichage des rôles en français\r\nconst roleDisplayNames: Record<Role, string> = {\r\n  president: 'Président',\r\n  treasurer: 'Trésorier', \r\n  secrecom: 'Sécrécom',\r\n  censeur: 'Censeur',\r\n  accountant: 'Comptable',\r\n  member: 'Membre',\r\n  guest: 'Invité',\r\n  admin: 'Administrateur'\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Load user from localStorage if exists\r\n    const storedUser = localStorage.getItem('friendlybanks_user');\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  const login = async (username: string, password: string): Promise<boolean> => {\r\n    try {\r\n      // Call backend token endpoint\r\n      const response = await fetch(`${API_BASE_URL}/token/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        return false;\r\n      }\r\n      \r\n      const data = await response.json();\r\n      const accessToken = data.access;\r\n      const refreshToken = data.refresh;\r\n\r\n      // Fetch user info using access token\r\n      const userResponse = await fetch(`${API_BASE_URL}/users/`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${accessToken}`,\r\n        },\r\n      });\r\n      \r\n      if (!userResponse.ok) {\r\n        return false;\r\n      }\r\n      \r\n      const users = await userResponse.json();\r\n      // Find user info by username\r\n      const userInfo = users.find((u: any) => u.username === username);\r\n      if (!userInfo) {\r\n        return false;\r\n      }\r\n\r\n      const loggedInUser: User = {\r\n        id: userInfo.id || userInfo.username,\r\n        username: userInfo.username,\r\n        role: userInfo.role as Role, // Utiliser le rôle directement du backend\r\n        token: accessToken,\r\n      };\r\n\r\n      localStorage.setItem('friendlybanks_user', JSON.stringify(loggedInUser));\r\n      localStorage.setItem('friendlybanks_refresh', refreshToken);\r\n      setUser(loggedInUser);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem('friendlybanks_user');\r\n    localStorage.removeItem('friendlybanks_refresh');\r\n  };\r\n\r\n  const hasPermission = (permission: string): boolean => {\r\n    if (!user) return false;\r\n    \r\n    // L'admin technique a tous les droits\r\n    if (user.role === 'admin') return true;\r\n    \r\n    // Le président a tous les droits métier\r\n    if (user.role === 'president') {\r\n      return rolePermissions.president.includes(permission) || permission !== 'system_admin';\r\n    }\r\n    \r\n    // Vérifier les permissions spécifiques du rôle\r\n    const permissions = rolePermissions[user.role] || [];\r\n    return permissions.includes(permission);\r\n  };\r\n\r\n  const getRoleDisplayName = (role: Role): string => {\r\n    return roleDisplayNames[role] || role;\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ \r\n      user, \r\n      login, \r\n      logout, \r\n      isAuthenticated: !!user, \r\n      hasPermission,\r\n      getRoleDisplayName \r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}